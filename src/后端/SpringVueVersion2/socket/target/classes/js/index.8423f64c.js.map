{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a022","webpack:///./src/components/nav/Setting.vue?712d","webpack:///./src/components/PrivateChatBox.vue?e22b","webpack:///./src/components/ShowBox.vue?925a","webpack:///./src/App.vue?dfe2","webpack:///src/App.vue","webpack:///./src/App.vue?4c4f","webpack:///./src/App.vue","webpack:///./src/store/index.js","webpack:///./src/components/nav/Login.vue?9574","webpack:///src/components/nav/Login.vue","webpack:///./src/components/nav/Login.vue?a7eb","webpack:///./src/components/nav/Login.vue","webpack:///./src/components/nav/Group.vue?aa88","webpack:///src/components/nav/Group.vue","webpack:///./src/components/nav/Group.vue?deba","webpack:///./src/components/nav/Group.vue","webpack:///./src/components/nav/Block.vue?ea6d","webpack:///src/components/nav/Block.vue","webpack:///./src/components/nav/Block.vue?6030","webpack:///./src/components/nav/Block.vue","webpack:///./src/components/Native.vue?b13e","webpack:///./src/components/Nav.vue?219f","webpack:///src/components/Nav.vue","webpack:///./src/components/Nav.vue?b9a0","webpack:///./src/components/Nav.vue","webpack:///./src/components/Body.vue?a803","webpack:///./src/components/User.vue?136f","webpack:///src/components/User.vue","webpack:///./src/components/User.vue?5b35","webpack:///./src/components/User.vue","webpack:///./src/components/PrivateChatBox.vue?30c5","webpack:///./src/components/ShowBox.vue?3aa0","webpack:///src/components/ShowBox.vue","webpack:///./src/components/ShowBox.vue?6602","webpack:///./src/components/ShowBox.vue","webpack:///./src/components/UserChooseBox.vue?3bb6","webpack:///src/components/UserChooseBox.vue","webpack:///./src/components/UserChooseBox.vue?8bd1","webpack:///./src/components/UserChooseBox.vue","webpack:///./src/components/EditBox.vue?8c01","webpack:///src/components/EditBox.vue","webpack:///./src/components/EditBox.vue?e9da","webpack:///./src/components/EditBox.vue","webpack:///src/components/PrivateChatBox.vue","webpack:///./src/components/PrivateChatBox.vue?b26d","webpack:///./src/components/PrivateChatBox.vue","webpack:///./src/components/PublicChatBox.vue?e4ae","webpack:///src/components/PublicChatBox.vue","webpack:///./src/components/PublicChatBox.vue?c8b9","webpack:///./src/components/PublicChatBox.vue","webpack:///src/components/Body.vue","webpack:///./src/components/Body.vue?5806","webpack:///./src/components/Body.vue","webpack:///src/components/Native.vue","webpack:///./src/components/Native.vue?b55f","webpack:///./src/components/Native.vue","webpack:///./src/components/nav/Setting.vue?eb90","webpack:///src/components/nav/Setting.vue","webpack:///./src/components/nav/Setting.vue?ddc5","webpack:///./src/components/nav/Setting.vue","webpack:///./src/components/nav/Edit.vue?c887","webpack:///src/components/nav/Edit.vue","webpack:///./src/components/nav/Edit.vue?51a4","webpack:///./src/components/nav/Edit.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/Nav.vue?12f9","webpack:///./src/components/UserChooseBox.vue?13b8","webpack:///./src/components/User.vue?a56d","webpack:///./src/components/nav/Login.vue?cef8","webpack:///./src/components/nav/Group.vue?672e","webpack:///./src/components/PublicChatBox.vue?2607","webpack:///./src/components/nav/Edit.vue?3057","webpack:///./src/components/nav/Block.vue?e9cb","webpack:///./src/components/EditBox.vue?f2d9","webpack:///./src/components/Body.vue?e874"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","methods","mapActions","toGroup","localStorage","getItem","$axios","params","userID","password","then","alert","catch","$router","replace","computed","mapState","mounted","console","component","group","namespaced","actions","initRoom","context","room","commit","initHost","host","initUsers","users","initGroups","groups","updateSelected","selected","connect","WebSocket","socket","onopen","send","JSON","stringify","type","text","getters","fullName","onclose","e","onmessage","parse","userName","content","selectedUserName","totalUsers","state","agreeUsers","indexOf","filter","aliveUsers","applyUsers","sourceUserName","recordUsers","sourceName","newMsgUsers","disconnect","close","destroyHost","destroyData","destroyMsg","sendPrivate","obj","sendPublic","sendApply","sendAgree","tar","targetUserName","mutations","DESTROYHOST","DESTROYDATA","DESTROYMSG","msgList","privateMsg","UPDATESELECTED","INITROOM","INITUSERS","INITHOST","INITGROUPS","updateHeadImage","headImageAddress","updateUserName","updateDetail","log","detail","sex","age","birthday","location","persionalSign","updateSocket","updateMsgList","msg","substring","lastIndexOf","updateAliveUsers","aliveUser","Array","updateApplyUsers","applyUser","deleteApplyUsers","updateAgreeUsers","agreeUser","updateNewMsgUsers","updateRecordUsers","recordUser","deleteAgreeUsers","updatePrivateMsgBefore","sourceID","unshift","targetName","updatePrivateMsg","Vue","set","concat","use","Vuex","Store","attrs","directives","rawName","expression","modifiers","staticClass","domProps","on","$event","target","composing","trim","$forceUpdate","verifyCodeImg","changeImg","verifyCodeStr","staticStyle","_v","_s","error","class","animate__animated","isShow","login","register","preventDefault","checkComplete","gClick","style","backgroundColor","groupClick","display","sClick","settingClick","reLogin","offLine","beforeUpdate","updated","beforeRouteLeave","to","from","next","vue","beforeRouteEnter","$store","_e","_l","groupID","query","leaderID","groupName","init","activated","ref","item","index","refInFor","items","setPadding","list","lisWid","dif","beforeDestroy","user","newMsg","isNewMsgUser","full","wrap","alive","isAlive","offline","isApply","wrap2","color","mapGetters","event","className","dispatch","scrollHandler","val","totalUser","noMsg","isTop","oppositeUser","userNameWithoutId","message","firstScroll","mapMutations","userMessage","widthLimit","msgWid","clientWidth","selectedUser","getData","oppositeID","time","res","selectedUserWithoutID","wholeStyle","array","scrollHeight","clientHeight","scrollTop","$nextTick","querySelector","left","clickSelected","changeMode","public","$refs","laba","innerText","bgc","$bus","$emit","isDisabled","Date","clickBtn","$on","components","ShowBox","UserChooseBox","EditBox","_m","focus","User","PrivateChatBox","PublicChatBox","Nav","Body","props","needRequest","deactivated","showUpdateList","showUpdateHeadImage","showUpdateUserName","uploadHeadImage","uploadUserName","getBirthday","skipToEdit","date","photo","files","file","size","suffix","formData","post","destroyed","skipToSetting","modifyDetail","VueRouter","router","routes","path","Login","Native","$route","beforeEnter","Group","children","Block","Setting","Edit","config","productionTip","axios","defaults","withCredentials","el","store","render","h","App","beforeCreate"],"mappings":"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","file":"js/index.8423f64c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=style&index=0&id=2a7065f2&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatBox.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBox.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('keep-alive',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 容纳Login 或 Group 或 Native -->\n    <keep-alive>\n      <router-view></router-view>\n    </keep-alive>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions } from \"vuex\";\nexport default {\n  name: \"App\",\n  data() {\n    return {};\n  },\n  methods: {\n    ...mapActions(\"group\", [\"initHost\", \"destroyHost\"]),\n    //先尝试跳转到group页面\n    toGroup() {\n      //渲染组件完毕后，首先查看本地是否已经有该用户的先前的登录信息\n      if (localStorage.getItem(\"login\")) {\n        //但此时可能存在本地存储的账号密码是过期的信息\n        let host = JSON.parse(localStorage.getItem(\"host\"));\n        //验证该用户账号和密码的正确性\n        this.$axios\n          .get(\"http://localhost:8080/login\", {\n            params: { userID: host.userID, password: host.password },\n          })\n          .then((res) => {\n            //用户账号密码过期\n            if (!res.data || !res.data.userID) {\n              //删除本地过期信息\n              localStorage.clear();\n              alert(\"验证过期,请重新登录\");\n              //跳转到登录页\n              this.$router.replace({\n                name: \"login\",\n              });\n            }\n            //该用户已经处于上线状态\n            else if (res.data.userID === \"0\") {\n              alert(\"已登录，请勿重复登录\");\n              //跳转到登录页\n              this.$router.replace({\n                name: \"login\",\n              });\n            }\n            //直接登录\n            else {\n              //初始化用户信息\n              this.initHost(res.data);\n              //跳转进群组页面\n              this.$router.replace({\n                name: \"group\",\n              });\n            }\n          })\n          .catch((res) => {\n            alert(\"网络异常\\n\" + res.message);\n            localStorage.clear();\n            this.$router.replace({\n              //发生异常，也跳转到登录页面\n              name: \"login\",\n            });\n          });\n      } else {\n        //没有上次缓存信息\n        this.$router.replace({\n          name: \"login\",\n        });\n      }\n    },\n  },\n  computed: {\n    ...mapState(\"group\", [\"host\"]),\n  },\n\n  mounted() {\n    console.log(\"mounted\");\n    window.onbeforeunload = () => {\n      console.log(\"before\");\n      //再通知服务器用户下线\n      // ！！发现在onbeforeunload这个回调里,在google里,axios在关闭浏览器时无法实现，故只能委托给websocket服务器解决\n      if (this.host.userID) {\n        this.$axios.get(\"http://localhost:8080/offLine\", {\n          params: { userID: this.host.userID },\n        });\n      }\n      //用户关闭浏览器应尝试关闭已有的websocket\n      this.$store.dispatch(\"group/disconnect\");\n      //容易漏掉对host的删除，因为这里可能是先暂时跳转到其他页面，之后又跳转回来，但此时已经\n      //向服务器声明退出了，所以通过删除host作为native和group组件的检测标值\n      this.destroyHost();\n    };\n    //选择登录页 or 群组页面\n    this.toGroup();\n  },\n};\n</script>\n\n\n<style>\n@font-face {\n  font-family: \"icomoon\";\n  src: url(\"/font/fonts/icomoon.eot?f88m88\");\n  src: url(\"/font/fonts/icomoon.eot?f88m88#iefix\") format(\"embedded-opentype\"),\n    url(\"/font/fonts/icomoon.ttf?f88m88\") format(\"truetype\"),\n    url(\"/font/fonts/icomoon.woff?f88m88\") format(\"woff\"),\n    url(\"/font/fonts/icomoon.svg?f88m88#icomoon\") format(\"svg\");\n  font-weight: normal;\n  font-style: normal;\n  font-display: block;\n}\n\n* {\n  margin: 0px;\n  padding: 0px;\n  font-size: 14px;\n}\n\nli {\n  list-style: none;\n}\n\ndiv {\n  box-sizing: border-box;\n}\n\ni {\n  font-style: normal;\n}\n\na {\n  text-decoration: none;\n}\n\ntable {\n  border-width: 0px;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--1-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=762d5976&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\n\r\n\r\n\r\n\r\nconst group = {\r\n    namespaced: true,\r\n    actions: {\r\n        initRoom(context, room) {\r\n            context.commit('INITROOM', room)\r\n        },\r\n        initHost(context, host) {\r\n            context.commit('INITHOST', host)\r\n        },\r\n        initUsers(context, users) {\r\n            context.commit('INITUSERS', users)\r\n        },\r\n        initGroups(context, groups) {\r\n            context.commit('INITGROUPS', groups);\r\n        },\r\n        updateSelected(context, selected) {\r\n            context.commit('UPDATESELECTED', selected);\r\n        },\r\n        connect(context) {\r\n            if (window.WebSocket) {\r\n                let socket = {}\r\n                socket = new WebSocket(\"ws://localhost/ws\")\r\n                socket.onopen = () => {\r\n                    socket.send(JSON.stringify({ type: '/simple/welcome', text: '{' + '\"userName\": ' + '\"' + context.getters.fullName + '\"' + '}' }))\r\n                }\r\n                socket.onclose = (e) => {\r\n                    // socket.send(JSON.stringify({ type: '/simple/exit', text: '{' + '\"userName\": ' + '\"' + context.getters.fullName + '\"' + '}' }))\r\n                }\r\n                socket.onmessage = (e) => {\r\n                    let data = JSON.parse(e.data)\r\n                    let type = data.type;\r\n                    if (type === '/simple/greeting') {\r\n                        context.commit('updateMsgList', data.text)\r\n                    } else if (type === '/simple/welcome') {\r\n                        if (data.text.userName === context.getters.fullName) return\r\n                        context.commit('updateAliveUsers', data.text.userName)\r\n                        context.commit('updateMsgList', { userName: data.text.userName + '上线了@', content: '' })\r\n                        socket.send(\r\n                            JSON.stringify({\r\n                                type: \"/simple/youAreWelcome\",\r\n                                text:\r\n                                    \"{\" +\r\n                                    '\"userName\": ' +\r\n                                    '\"' +\r\n                                    context.getters.fullName +\r\n                                    '\"' +\r\n                                    \"}\",\r\n                            })\r\n                        )\r\n                    } else if (type === '/simple/exit') {\r\n                        let selectedUserName = context.getters.totalUsers[context.state.selected]\r\n                        if (context.state.agreeUsers.indexOf(data.text.userName) !== -1) {\r\n                            context.commit('updateRecordUsers', data.text.userName)\r\n                            context.commit('updateAgreeUsers', context.state.agreeUsers.filter(userName => userName !== data.text.userName))\r\n                        }\r\n                        //有用户退出时，指针也要随之变化\r\n                        if (selectedUserName === data.text.userName) {\r\n                            context.commit('UPDATESELECTED', context.state.agreeUsers.length - 1)\r\n                        } else {\r\n                            context.commit('UPDATESELECTED', context.getters.totalUsers.indexOf(selectedUserName))\r\n                        }\r\n\r\n                        context.commit('updateAliveUsers', context.state.aliveUsers.filter(userName => userName !== data.text.userName))\r\n                        context.commit('updateApplyUsers', context.state.applyUsers.filter(userName => userName !== data.text.userName))\r\n                        context.commit('updateMsgList', { userName: data.text.userName + '下线了@', content: '' })\r\n                    } else if (type === '/simple/youAreWelcome') {\r\n                        if (data.text.userName === context.getters.fullName) return\r\n                        if (context.state.aliveUsers.indexOf(data.text.userName) !== -1) return\r\n                        context.commit('updateAliveUsers', data.text.userName)\r\n                    } else if (type === '/user/' + context.getters.fullName + '/simple/applyConnect') {\r\n                        if (context.state.applyUsers.indexOf(data.text.sourceUserName) !== -1) return\r\n                        context.commit('updateApplyUsers', data.text.sourceUserName)\r\n                    } else if (type === '/user/' + context.getters.fullName + '/simple/agreeConnect') {\r\n                        context.commit('updateRecordUsers', context.state.recordUsers.filter(userName => userName !== data.text.sourceUserName))\r\n                        context.commit('updateApplyUsers', context.state.applyUsers.filter(userName => userName !== data.text.sourceUserName))\r\n                        context.commit('updateAgreeUsers', data.text.sourceUserName)\r\n                    } else if (type === '/user/' + context.getters.fullName + '/simple/sendMessageToUser') {\r\n                        context.commit('updatePrivateMsg', data.text)\r\n                        if (data.text.sourceName === context.state.agreeUsers[context.state.selected]) return\r\n                        if (context.state.newMsgUsers.indexOf(data.text.sourceName) !== -1) return\r\n                        context.commit('updateNewMsgUsers', data.text.sourceName)\r\n                    }\r\n                }\r\n                context.commit('updateSocket', socket)\r\n            } else {\r\n                alert('该浏览器不支持WebSocket,请更换浏览器重新打开网址');\r\n            }\r\n        },\r\n        disconnect(context) {\r\n            if (context.state.socket !== null) {\r\n                //浏览器退出时，可能不是在交流页出现，所以可能socket仍没创建,只是个空对象\r\n                //检查socket.send方法是否存在\r\n                if (context.state.socket.send) {\r\n                    context.state.socket.send(JSON.stringify({ type: '/simple/exit', text: '{' + '\"userName\": ' + '\"' + context.getters.fullName + '\"' + '}' }))\r\n                    context.state.socket.close()\r\n                    //关闭后应该重新设置为空对象，以免浏览器退出时调用该函数，存在已经关闭的socke对象，仍然调用socket方法\r\n                    context.state.socket = {}\r\n                }\r\n            }\r\n        },\r\n        destroyHost(context) {\r\n            context.commit(\"DESTROYHOST\")\r\n        },\r\n        destroyData(context) {\r\n            context.commit('DESTROYDATA')\r\n        },\r\n        destroyMsg(context) {\r\n            context.commit('DESTROYMSG')\r\n        },\r\n        sendPrivate(context, obj) {\r\n            context.state.socket.send(JSON.stringify(obj))\r\n            context.commit('updatePrivateMsg', JSON.parse(obj.text))\r\n        },\r\n        sendPublic(context, obj) {\r\n            context.state.socket.send(JSON.stringify(obj))\r\n        },\r\n        sendApply(context, obj) {\r\n            context.state.socket.send(JSON.stringify(obj))\r\n        },\r\n        sendAgree(context, obj) {\r\n            context.state.socket.send((JSON.stringify(obj)))\r\n            let tar = JSON.parse(obj.text).targetUserName\r\n            context.commit('deleteApplyUsers', tar)\r\n            context.commit('updateAgreeUsers', tar)\r\n            context.commit('updateRecordUsers', context.state.recordUsers.filter((userName) => {\r\n                return userName !== tar\r\n            }))\r\n        }\r\n    },\r\n    mutations: {\r\n        DESTROYHOST(state) {\r\n            state.host = {}\r\n        },\r\n        DESTROYDATA(state) {\r\n            //删除群组的联系，再次进入交流页面时，群组联系已经发生变化\r\n            state.aliveUsers = []\r\n            state.applyUsers = []\r\n            state.agreeUsers = []\r\n            state.recordUsers = []\r\n            state.totalUsers = []\r\n            state.newMsgUsers = []\r\n            state.selected = 0\r\n        },\r\n        DESTROYMSG(state) {\r\n            state.msgList = []\r\n            state.room = {}\r\n            state.privateMsg = {}\r\n        },\r\n        UPDATESELECTED(state, selected) {\r\n            state.selected = selected\r\n        },\r\n        INITROOM(state, room) {\r\n            state.room = room;\r\n        },\r\n        INITUSERS(state, users) {\r\n            state.users = users\r\n        },\r\n        INITHOST(state, host) {\r\n            state.host = host\r\n        },\r\n        INITGROUPS(state, groups) {\r\n            state.groups = groups;\r\n        },\r\n        updateHeadImage(state, headImageAddress) {\r\n            state.host.headImageAddress = headImageAddress\r\n        },\r\n        updateUserName(state, userName) {\r\n            state.host.userName = userName\r\n        },\r\n        updateDetail(state, obj) {\r\n            console.log(\"前update\");\r\n            console.log(obj);\r\n            state.host.detail.sex = obj.sex;\r\n            state.host.detail.age = obj.age;\r\n            state.host.detail.birthday = obj.birthday;\r\n            state.host.detail.location = obj.location;\r\n            state.host.detail.persionalSign = obj.persionalSign;\r\n            console.log(\"后update\");\r\n        },\r\n        updateSocket(state, socket) {\r\n            state.socket = socket\r\n        },\r\n        updateMsgList(state, msg) {\r\n            msg.userName = msg.userName.substring(0, msg.userName.lastIndexOf('@'))\r\n            state.msgList.push(msg)\r\n        },\r\n        updateAliveUsers(state, aliveUser) {\r\n            if (!(aliveUser instanceof Array)) {\r\n                state.aliveUsers.push(aliveUser)\r\n            } else {\r\n                state.aliveUsers = aliveUser\r\n            }\r\n        },\r\n        updateApplyUsers(state, applyUser) {\r\n            if (!(applyUser instanceof Array)) {\r\n                state.applyUsers.push(applyUser)\r\n            }\r\n            else {\r\n                state.applyUsers = applyUser\r\n            }\r\n        },\r\n        deleteApplyUsers(state, applyUser) {\r\n            state.applyUsers = state.applyUsers.filter((name) => name !== applyUser)\r\n        },\r\n        updateAgreeUsers(state, agreeUser) {\r\n            if (!(agreeUser instanceof Array)) {\r\n                state.agreeUsers.push(agreeUser)\r\n                // if (!(state.privateMsg[agreeUser])) {\r\n                //     Vue.set(state.privateMsg, agreeUser, [])\r\n                // }\r\n            }\r\n            else {\r\n                state.agreeUsers = agreeUser\r\n            }\r\n\r\n        },\r\n        updateNewMsgUsers(state, newMsgUsers) {\r\n            if (!(newMsgUsers instanceof Array))\r\n                state.newMsgUsers.push(newMsgUsers)\r\n            else {\r\n                state.newMsgUsers = newMsgUsers\r\n            }\r\n        },\r\n        updateRecordUsers(state, recordUser) {\r\n            if (!(recordUser instanceof Array))\r\n                state.recordUsers.push(recordUser)\r\n            else {\r\n                state.recordUsers = recordUser\r\n            }\r\n        },\r\n        deleteAgreeUsers(state, agreeUser) {\r\n            state.agreeUsers = state.agreeUsers.filter((name) => {\r\n                name !== agreeUser\r\n            })\r\n        },\r\n        updatePrivateMsgBefore(state, privateMsg) {\r\n            if (privateMsg.sourceID !== state.host.userID) {\r\n                state.privateMsg[privateMsg.sourceName].unshift(privateMsg)\r\n            }\r\n            else {\r\n                state.privateMsg[privateMsg.targetName].unshift(privateMsg)\r\n            }\r\n        },\r\n        updatePrivateMsg(state, privateMsg) {\r\n            if (privateMsg.sourceID !== state.host.userID) {\r\n                if (!(state.privateMsg[privateMsg.sourceName])) {\r\n                    Vue.set(state.privateMsg, privateMsg.sourceName, [])\r\n                }\r\n                state.privateMsg[privateMsg.sourceName].push(privateMsg)\r\n            }\r\n            else {\r\n                if (!(state.privateMsg[privateMsg.targetName])) {\r\n                    Vue.set(state.privateMsg, privateMsg.targetName, [])\r\n                }\r\n                state.privateMsg[privateMsg.targetName].push(privateMsg)\r\n            }\r\n        },\r\n\r\n\r\n    },\r\n    // aliveUsers -> applyUsers -> agreeUsers -> newMsgUsers\r\n    // agreeUsers 和 applyUsers互斥\r\n    // agreeUsers 和 recordUsers 互斥\r\n\r\n    state: {\r\n        host: {},\r\n        room: {},\r\n        users: [],\r\n        groups: [],\r\n        socket: {},\r\n        msgList: [],\r\n        aliveUsers: [],\r\n        applyUsers: [],\r\n\r\n        agreeUsers: [],\r\n        recordUsers: [],\r\n        totalUsers: [],\r\n\r\n        newMsgUsers: [],\r\n        privateMsg: {},\r\n        selected: 0\r\n\r\n    },\r\n    getters: {\r\n        fullName(state) {\r\n            return state.host.userName + '@' + state.host.userID\r\n        },\r\n        totalUsers(state) {\r\n            return state.agreeUsers.concat(state.recordUsers)\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nVue.use(Vuex)\r\n\r\nexport default new Vuex.Store({\r\n    modules: {\r\n        group\r\n    }\r\n})","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{attrs:{\"action\":\"/login\",\"method\":\"get\",\"id\":\"login\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.userID),expression:\"userID\",modifiers:{\"trim\":true}}],staticClass:\"key\",attrs:{\"type\":\"text\",\"name\":\"userID\",\"placeholder\":\" 账号\"},domProps:{\"value\":(_vm.userID)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.userID=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('br'),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],staticClass:\"key\",attrs:{\"type\":\"password\",\"name\":\"password\",\"placeholder\":\" 密码\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('br'),_c('img',{attrs:{\"id\":\"verifyCodeImg\",\"src\":_vm.verifyCodeImg},on:{\"click\":_vm.changeImg}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.verifyCodeStr),expression:\"verifyCodeStr\",modifiers:{\"trim\":true}}],attrs:{\"id\":\"verifyCodeStr\",\"type\":\"text\",\"placeholder\":\"请输入验证码\"},domProps:{\"value\":(_vm.verifyCodeStr)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.verifyCodeStr=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('br'),_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.error))]),_c('transition-group',{attrs:{\"enter-active-class\":\"animate__swing\"}},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],key:\"1\",staticClass:\"submit\",class:{ animate__animated: _vm.isShow },attrs:{\"type\":\"button\"},on:{\"click\":_vm.login}},[_vm._v(\" 登录 \")]),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShow),expression:\"!isShow\"}],key:\"2\",staticClass:\"submit\",class:{ animate__animated: !_vm.isShow },attrs:{\"type\":\"button\"},on:{\"click\":_vm.register}},[_vm._v(\" 注册 \")])]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow),expression:\"isShow\"}],staticClass:\"tip\",attrs:{\"href\":\"http://www.baidu.com\"},on:{\"click\":function($event){$event.preventDefault();_vm.isShow = !_vm.isShow}}},[_vm._v(\"没有账号?注册一个吧\")]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isShow),expression:\"!isShow\"}],staticClass:\"tip\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();_vm.isShow = !_vm.isShow}}},[_vm._v(\"已有账号？\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <form action=\"/login\" method=\"get\" id=\"login\">\r\n      <input\r\n        v-model.trim=\"userID\"\r\n        type=\"text\"\r\n        name=\"userID\"\r\n        class=\"key\"\r\n        placeholder=\" 账号\"\r\n      />\r\n      <br />\r\n      <input\r\n        v-model.trim=\"password\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        class=\"key\"\r\n        placeholder=\" 密码\"\r\n      />\r\n      <br />\r\n      <img @click=\"changeImg\" id=\"verifyCodeImg\" :src=\"verifyCodeImg\" />\r\n      <input\r\n        v-model.trim=\"verifyCodeStr\"\r\n        id=\"verifyCodeStr\"\r\n        type=\"text\"\r\n        placeholder=\"请输入验证码\"\r\n      />\r\n      <br />\r\n      <span style=\"color: red\">{{ error }}</span>\r\n      <transition-group enter-active-class=\"animate__swing\">\r\n        <button\r\n          v-show=\"isShow\"\r\n          @click=\"login\"\r\n          class=\"submit\"\r\n          :class=\"{ animate__animated: isShow }\"\r\n          type=\"button\"\r\n          key=\"1\"\r\n        >\r\n          登录\r\n        </button>\r\n        <button\r\n          v-show=\"!isShow\"\r\n          @click=\"register\"\r\n          class=\"submit\"\r\n          :class=\"{ animate__animated: !isShow }\"\r\n          type=\"button\"\r\n          key=\"2\"\r\n        >\r\n          注册\r\n        </button>\r\n      </transition-group>\r\n      <a\r\n        v-show=\"isShow\"\r\n        @click.prevent=\"isShow = !isShow\"\r\n        href=\"http://www.baidu.com\"\r\n        class=\"tip\"\r\n        >没有账号?注册一个吧</a\r\n      >\r\n      <a v-show=\"!isShow\" @click.prevent=\"isShow = !isShow\" href=\"#\" class=\"tip\"\r\n        >已有账号？</a\r\n      >\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from \"vuex\";\r\nimport \"animate.css\";\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      userID: \"\",\r\n      password: \"\",\r\n      verifyCodeStr: \"\",\r\n      verifyCodeImg: \"http://localhost:8080/login/verifyCodeImg\",\r\n      error: \"\",\r\n      //选择注册or登录\r\n      isShow: true,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\"initHost\"]),\r\n    changeImg() {\r\n      //重新申请验证码\r\n      //防止浏览器缓存不刷新\r\n      this.verifyCodeImg =\r\n        \"http://localhost:8080/login/verifyCodeImg?t=\" + Date.now();\r\n    },\r\n    checkComplete() {\r\n      //不管是登录还是注册 首先判断 账号 密码 验证码 是否填写齐全\r\n      if (!this.userID || !this.password) {\r\n        alert(\"请输入账号密码\");\r\n        return false;\r\n      } else if (!this.verifyCodeStr) {\r\n        alert(\"请输入验证码\");\r\n        return false;\r\n      }\r\n      return true;\r\n    },\r\n    login() {\r\n      if (!this.checkComplete()) return;\r\n      //第二步 发送网络请求 确定验证码正确\r\n      this.$axios\r\n        .get(\"http://localhost:8080/login/verifyCodeStr\", {\r\n          params: {\r\n            verifyCodeStr: this.verifyCodeStr,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          //res.data返回true | false\r\n          if (!res.data) {\r\n            //验证码错误\r\n            this.error = \"验证码输入错误,请重新输入\";\r\n            //更改验证码图片\r\n            this.changeImg();\r\n          } else {\r\n            //验证码通过,继续发送登录请求\r\n            this.$axios\r\n              .get(\"http://localhost:8080/login\", {\r\n                params: {\r\n                  userID: this.userID,\r\n                  password: this.password,\r\n                },\r\n              })\r\n              .then((res) => {\r\n                //账号密码错误\r\n                if (!res.data || !res.data.userID) {\r\n                  this.error = \"输入的密码和账号错误,请重新输入\";\r\n                  //更改验证码图片\r\n                  this.changeImg();\r\n                } else {\r\n                  //检查该用户是否已经登录\r\n                  if (res.data.userID === \"0\") {\r\n                    this.error = \"该用户已经登录,请勿重复登录\";\r\n                    return;\r\n                  }\r\n                  //验证成功\r\n                  this.initHost(res.data);\r\n                  //跳入群组页面\r\n                  //群组页面应该配置前置路由，防止无账号密码登录,故在本地缓存记录登录信息\r\n                  localStorage.setItem(\"login\", \"true\");\r\n                  localStorage.setItem(\"host\", JSON.stringify(res.data));\r\n                  this.$router.replace({\r\n                    name: \"group\",\r\n                  });\r\n                }\r\n              })\r\n              //验证账号密码发生错误\r\n              .catch((res) => {\r\n                this.error = \"请求发生异常,请检查网络环境\";\r\n              });\r\n          }\r\n        })\r\n        //验证验证码发生错误\r\n        .catch((res) => {\r\n          this.error = \"请求发生异常，请检查网络环境\";\r\n        });\r\n    },\r\n    register() {\r\n      //检查输入信息的完备性\r\n      if (!this.checkComplete()) return;\r\n      //检查userID和password,要求账号>=7位, <= 15，只能是数字；密码>= 6 <= 15\r\n      if (this.userID.length < 7) {\r\n        alert(\"账号必须大于或等于7位\");\r\n        this.changeImg();\r\n        return;\r\n      } else if (this.userID.length > 15) {\r\n        alert(\"账号必须小于或等于15位\");\r\n        this.changeImg();\r\n        return;\r\n      } else if (\r\n        this.userID.filters((ch) => !(ch >= \"0\" && ch <= \"9\")).length !== 0\r\n      ) {\r\n        alert(\"账号中含有非数字字符\");\r\n        this.changeImg();\r\n        return;\r\n      } else if (this.password.length < 6) {\r\n        alert(\"密码必须大于或等于6位\");\r\n        this.changeImg();\r\n        return;\r\n      } else if (this.password.length > 15) {\r\n        alert(\"密码必须小于或等于15位\");\r\n        this.changeImg();\r\n        return;\r\n      }\r\n      //第三步 发送ajax请求，验证验证码正确性\r\n      this.$axios\r\n        .get(\"http://localhost:8080/login/verifyCodeStr\", {\r\n          params: {\r\n            verifyCodeStr: this.verifyCodeStr,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          //res.data返回true | false\r\n          if (!res.data) {\r\n            //验证码错误\r\n            this.error = \"验证码输入错误,请重新输入\";\r\n            //更改验证码图片\r\n            this.changeImg();\r\n          } else {\r\n            //验证码通过,继续发送注册请求\r\n            this.$axios\r\n              .get(\"http://localhost:8080/register/user\", {\r\n                params: {\r\n                  userID: this.userID,\r\n                  password: this.password,\r\n                },\r\n              })\r\n              .then((res) => {\r\n                //注册失败，账号重复\r\n                if (res !== true) {\r\n                  this.error = \"输入的账号已注册,请重新输入\";\r\n                  //更改验证码图片\r\n                  this.changeImg();\r\n                } else {\r\n                  //注册成功\r\n                  //创建host对象，该对象除了账号之外，其余属性全部为null\r\n                  //因此在之后 进入聊天室界面时,应该设置路由，防止用户无昵称进入聊天室\r\n                  let host = {\r\n                    userID: this.userID,\r\n                    password: this.password,\r\n                    userName: null,\r\n                    headImageAddress: null,\r\n                    detail: {\r\n                      userID: this.userID,\r\n                      sex: null,\r\n                      age: null,\r\n                      birthday: null,\r\n                      location: null,\r\n                      persionalSign: null,\r\n                    },\r\n                  };\r\n                  //初始化host对象\r\n                  this.initHost(res.data);\r\n                  //跳入群组页面\r\n                  //群组页面应该配置前置路由，防止无账号密码登录,故在本地缓存记录登录信息\r\n                  localStorage.setItem(\"login\", \"true\");\r\n                  localStorage.setItem(\"host\", JSON.stringify(res.data));\r\n                  this.$router.replace({\r\n                    name: \"group\",\r\n                  });\r\n                }\r\n              })\r\n              //注册发生错误\r\n              .catch((res) => {\r\n                this.error = \"请求发生异常,请检查网络环境\";\r\n              });\r\n          }\r\n        })\r\n        //注册发生错误\r\n        .catch((res) => {\r\n          this.error = \"请求发生异常，请检查网络环境\";\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@font-face {\r\n  font-family: \"icomoon\";\r\n  src: url(\"/font/fonts/icomoon.eot?h5j9ar\");\r\n  src: url(\"/font/fonts/icomoon.eot?h5j9ar#iefix\") format(\"embedded-opentype\"),\r\n    url(\"/font/fonts/icomoon.ttf?h5j9ar\") format(\"truetype\"),\r\n    url(\"/font/fonts/icomoon.woff?h5j9ar\") format(\"woff\"),\r\n    url(\"/font/fonts/icomoon.svg?h5j9ar#icomoon\") format(\"svg\");\r\n  font-weight: normal;\r\n  font-style: normal;\r\n  font-display: block;\r\n}\r\nbody {\r\n  background-color: #efefef;\r\n}\r\n\r\ninput {\r\n  border: 0;\r\n  border-bottom: 1px solid #e5e5e5;\r\n  outline: none;\r\n}\r\n\r\n#login {\r\n  position: relative;\r\n  box-sizing: border-box;\r\n  width: 425px;\r\n  height: 325px;\r\n  margin: 100px auto;\r\n  text-align: center;\r\n  padding-top: 100px;\r\n  background-color: #fff;\r\n}\r\n\r\n#login .key {\r\n  height: 30px;\r\n  width: 260px;\r\n  margin-bottom: 10px;\r\n  font-family: icomoon;\r\n  font-size: 12px;\r\n  font-weight: 700;\r\n  line-height: 20px;\r\n}\r\n\r\n#login .submit {\r\n  height: 30px;\r\n  width: 260px;\r\n  border: 0;\r\n  border-radius: 2px;\r\n  background-color: #12b7f5;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  color: #fff;\r\n}\r\n#verifyCodeImg {\r\n  width: 160px;\r\n  height: 50px;\r\n  background-color: pink;\r\n  vertical-align: middle;\r\n  margin-bottom: 10px;\r\n}\r\n#verifyCodeStr {\r\n  margin-left: 10px;\r\n  width: 85px;\r\n  height: 15px;\r\n}\r\n.tip {\r\n  position: absolute;\r\n  right: 15px;\r\n  bottom: 20px;\r\n  color: #cfcfcf;\r\n  text-decoration-line: underline;\r\n  cursor: pointer;\r\n}\r\n.disappear {\r\n  display: none;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=615c656e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=615c656e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"615c656e\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"head\"},[_c('img',{attrs:{\"src\":_vm.host.headImageAddress}}),_c('h1',[_vm._v(_vm._s(_vm.host.userName))])]),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"left-menu\"},[_c('div',{staticClass:\"group-menu\",on:{\"click\":_vm.gClick}},[_c('div',{staticClass:\"menu-head\",style:({\n            backgroundColor: _vm.groupClick ? '#FE8333' : '#fff',\n          })},[_c('img',{staticClass:\"menu-head-img-open\",style:({ display: _vm.groupClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/互动.png\"}}),_c('img',{staticClass:\"menu-head-img-close\",style:({ display: !_vm.groupClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/互动白底.png\"}}),_c('p',{staticClass:\"menu-title\"},[_vm._v(\"群组\")]),_c('img',{staticClass:\"menu-arrow-open\",style:({ display: _vm.groupClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/下拉箭头.png\"}}),_c('img',{staticClass:\"menu-arrow-close\",style:({ display: !_vm.groupClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/向右箭头.png\"}})]),_c('ul',{staticClass:\"menu-list\",style:({ display: _vm.groupClick ? 'block' : 'none' })},[_c('li',[_c('router-link',{attrs:{\"to\":\"/group/block\"}},[_vm._v(\"我加入的群组\")])],1)])]),_c('div',{staticClass:\"setting-menu\",on:{\"click\":_vm.sClick}},[_c('div',{staticClass:\"menu-head\",style:({\n            backgroundColor: _vm.settingClick ? '#FE8333' : '#fff',\n          })},[_c('img',{staticClass:\"menu-head-img-open\",style:({ display: _vm.settingClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/设置.png\"}}),_c('img',{staticClass:\"menu-head-img-close\",style:({ display: !_vm.settingClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/设置白底.png\"}}),_c('p',{staticClass:\"menu-title\"},[_vm._v(\"设置中心\")]),_c('img',{staticClass:\"menu-arrow-open\",style:({ display: _vm.settingClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/下拉箭头.png\"}}),_c('img',{staticClass:\"menu-arrow-close\",style:({ display: !_vm.settingClick ? 'inline-block' : 'none' }),attrs:{\"src\":\"image/向右箭头.png\"}})]),_c('ul',{staticClass:\"menu-list\",style:({ display: _vm.settingClick ? 'block' : 'none' })},[_c('li',[_c('router-link',{attrs:{\"to\":\"/group/setting\"}},[_vm._v(\"个人信息\")])],1),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.reLogin}},[_vm._v(\"退出\")])])])])]),_c('keep-alive',[_c('router-view')],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"head\">\r\n      <img :src=\"host.headImageAddress\" />\r\n      <h1>{{ host.userName }}</h1>\r\n    </div>\r\n    <div class=\"content\">\r\n      <div class=\"left-menu\">\r\n        <div @click=\"gClick\" class=\"group-menu\">\r\n          <div\r\n            class=\"menu-head\"\r\n            :style=\"{\r\n              backgroundColor: groupClick ? '#FE8333' : '#fff',\r\n            }\"\r\n          >\r\n            <img\r\n              :style=\"{ display: groupClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-head-img-open\"\r\n              src=\"image/互动.png\"\r\n            />\r\n            <img\r\n              :style=\"{ display: !groupClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-head-img-close\"\r\n              src=\"image/互动白底.png\"\r\n            />\r\n            <p class=\"menu-title\">群组</p>\r\n            <img\r\n              :style=\"{ display: groupClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-arrow-open\"\r\n              src=\"image/下拉箭头.png\"\r\n            />\r\n            <img\r\n              :style=\"{ display: !groupClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-arrow-close\"\r\n              src=\"image/向右箭头.png\"\r\n            />\r\n          </div>\r\n          <ul\r\n            :style=\"{ display: groupClick ? 'block' : 'none' }\"\r\n            class=\"menu-list\"\r\n          >\r\n            <li>\r\n              <!-- <a href=\"#\">我加入的群组</a> -->\r\n              <router-link to=\"/group/block\">我加入的群组</router-link>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div @click=\"sClick\" class=\"setting-menu\">\r\n          <div\r\n            class=\"menu-head\"\r\n            :style=\"{\r\n              backgroundColor: settingClick ? '#FE8333' : '#fff',\r\n            }\"\r\n          >\r\n            <img\r\n              :style=\"{ display: settingClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-head-img-open\"\r\n              src=\"image/设置.png\"\r\n            />\r\n            <img\r\n              :style=\"{ display: !settingClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-head-img-close\"\r\n              src=\"image/设置白底.png\"\r\n            />\r\n            <p class=\"menu-title\">设置中心</p>\r\n            <img\r\n              :style=\"{ display: settingClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-arrow-open\"\r\n              src=\"image/下拉箭头.png\"\r\n            />\r\n            <img\r\n              :style=\"{ display: !settingClick ? 'inline-block' : 'none' }\"\r\n              class=\"menu-arrow-close\"\r\n              src=\"image/向右箭头.png\"\r\n            />\r\n          </div>\r\n          <ul\r\n            :style=\"{ display: settingClick ? 'block' : 'none' }\"\r\n            class=\"menu-list\"\r\n          >\r\n            <li>\r\n              <!-- 跳转到setting页面 -->\r\n              <router-link to=\"/group/setting\">个人信息</router-link>\r\n            </li>\r\n            <li>\r\n              <!-- 退出重新登录，同时要删除本地缓存的所有信息，并跳转到login页面 -->\r\n              <a @click=\"reLogin\" href=\"#\">退出</a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n      <!-- <Block> <Edit> <Setting> <EditImport>-->\r\n      <keep-alive>\r\n        <router-view></router-view>\r\n      </keep-alive>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport vue from \"../../main\";\r\nexport default {\r\n  name: \"Group\",\r\n  data() {\r\n    return {\r\n      groupClick: false,\r\n      settingClick: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\"host\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\"disconnect\", \"destroyMsg\", \"destroyHost\"]),\r\n    gClick() {\r\n      this.groupClick = !this.groupClick;\r\n    },\r\n    sClick() {\r\n      this.settingClick = !this.settingClick;\r\n    },\r\n    reLogin() {\r\n      // 删除本地缓存\r\n      localStorage.clear();\r\n      //通知服务器删除该登录用户\r\n      this.offLine();\r\n    },\r\n    offLine() {\r\n      //通知服务器删除该登录用户\r\n      this.$axios\r\n        .get(\"http://localhost:8080/offLine\", {\r\n          params: { userID: this.host.userID },\r\n        })\r\n        .then((res) => {\r\n          //切到login页面，因为退出就必须重新登录 所以必须用replace\r\n          this.$router.replace({\r\n            name: \"login\",\r\n          });\r\n        })\r\n        .catch((res) => {\r\n          alert(\"网络错误\" + \"\\n\" + res.message);\r\n        });\r\n    },\r\n    beforeUpdate() {\r\n      console.log(\"GroupBeforeUpdate\");\r\n    },\r\n    updated() {\r\n      console.log(\"GroupUpdated\");\r\n    },\r\n  },\r\n\r\n  // Group组件除了转向Native外，其他均要格式化存在的聊天数据，并且向服务器声明退出,\r\n  // 还要清楚本地缓存，因为路由守卫是根据是否存在本地记录，判断该用户是否登录的\r\n  // 最好将host也删掉，与beforeRouteEnter联合，再对是否存在userID进行检测\r\n\r\n  // 不知何种缘故，即便程序所有页面跳转均是使用replace，但是仍旧会积压group，并且当前后\r\n  // 跳转时,会在一些页面等同于浏览器的初次申请，所以会产生如下执行顺序\r\n  // 先创建子组件group,因此会执行到beforeRouteEnter,此时vue实例还没初始化，因此报错\r\n  // 然后创建父组件,执行mounted方法，根据缓存跳转到group,再次进入beforeRouteEnter方法\r\n  //此时 vue实例已经存在\r\n  beforeRouteLeave(to, from, next) {\r\n    if (to.name !== \"native\") {\r\n      Object.getPrototypeOf(vue).$axios.get(\"http://localhost:8080/offLine\", {\r\n        params: { userID: vue.$store.state.group.host.userID },\r\n      });\r\n      vue.$store.state.group.host = {};\r\n      vue.$store.dispatch(\"group/destroyMsg\");\r\n      localStorage.clear();\r\n    }\r\n    next();\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    //!vue出现在vue程序完全从头开始构建组件时，此时还没vue实例\r\n    //此时直接返回，程序会自动构建父节点，然后App.vue根据条件自动\r\n    //跳转到login或group\r\n    if (!vue) {\r\n      return;\r\n    }\r\n    if (!vue.$store.state.group.host.userID) {\r\n      alert(\"你还没有登录\");\r\n      //重新跳转到登录页\r\n      vue.$router.replace({\r\n        name: \"login\",\r\n      });\r\n      return;\r\n    }\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\nbody {\r\n  background-color: rgba(245, 245, 245);\r\n}\r\n\r\nhr {\r\n  border: 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n.head {\r\n  width: 100%;\r\n  height: 280px;\r\n  background-color: #7cc2fd;\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.head img {\r\n  width: 125px;\r\n  height: 125px;\r\n  border-radius: 100%;\r\n  margin-top: 50px;\r\n  border: 5px solid rgba(255, 255, 255, 0.3);\r\n}\r\n\r\n.content {\r\n  margin: auto;\r\n  width: 1500px;\r\n  overflow: hidden;\r\n}\r\n\r\n.left-menu {\r\n  float: left;\r\n  margin-left: 100px;\r\n  width: 220px;\r\n  text-align: center;\r\n  background-color: #fff;\r\n}\r\n\r\n.menu-head {\r\n  background-color: #fff;\r\n  padding: 20px 0;\r\n  color: #000;\r\n  font-size: 16px;\r\n  cursor: pointer;\r\n}\r\n\r\n.menu-head-click {\r\n  background-color: rgb(254, 131, 51);\r\n  padding: 20px 0;\r\n  color: #fff;\r\n  font-size: 16px;\r\n}\r\n\r\n.menu-head-img-open {\r\n  vertical-align: middle;\r\n}\r\n\r\n.menu-head-img-close {\r\n  vertical-align: middle;\r\n}\r\n\r\n.menu-title {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.menu-arrow-open {\r\n  vertical-align: middle;\r\n}\r\n\r\n.menu-arrow-close {\r\n  display: inline-block;\r\n  vertical-align: middle;\r\n}\r\n\r\n.menu-list li {\r\n  text-align: center;\r\n  line-height: 60px;\r\n}\r\n.menu-list li a {\r\n  color: #a5a5a5;\r\n  font-size: 16px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Group.vue?vue&type=template&id=ae31a958&\"\nimport script from \"./Group.vue?vue&type=script&lang=js&\"\nexport * from \"./Group.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Group.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"b\"},[_c('div',{staticStyle:{\"height\":\"50px\",\"line-height\":\"50px\"}},[_c('h1',{staticClass:\"ti\"},[_vm._v(\"我加入的群组\")]),_c('p',{staticClass:\"join-total\"},[_vm._v(_vm._s(_vm.groups.length))])]),_c('hr'),(_vm.msg != '')?_c('h1',{staticClass:\"msg\"},[_vm._v(_vm._s(_vm.msg))]):_vm._e(),_vm._l((_vm.groups),function(group){return _c('div',{key:group.groupID,staticClass:\"g\"},[_c('router-link',{attrs:{\"to\":{\n        name: 'native',\n        query: {\n          groupID: group.groupID,\n          leaderID: group.leaderID,\n          groupName: group.groupName,\n          headImageAddress: group.headImageAddress,\n        },\n      }}},[_c('img',{attrs:{\"src\":group.headImageAddress}})]),_c('router-link',{attrs:{\"to\":{\n        name: 'native',\n        query: {\n          groupID: group.groupID,\n          leaderID: group.leaderID,\n          groupName: group.groupName,\n          headImageAddress: group.headImageAddress,\n        },\n      }}},[_c('h1',[_vm._v(_vm._s(group.groupName))])])],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"b\">\r\n    <div style=\"height: 50px; line-height: 50px\">\r\n      <h1 class=\"ti\">我加入的群组</h1>\r\n      <p class=\"join-total\">{{ groups.length }}</p>\r\n    </div>\r\n    <hr />\r\n    <!-- 没有加入任何群组 -->\r\n    <h1 class=\"msg\" v-if=\"msg != ''\">{{ msg }}</h1>\r\n\r\n    <div v-for=\"group in groups\" :key=\"group.groupID\" class=\"g\">\r\n      <router-link\r\n        :to=\"{\r\n          name: 'native',\r\n          query: {\r\n            groupID: group.groupID,\r\n            leaderID: group.leaderID,\r\n            groupName: group.groupName,\r\n            headImageAddress: group.headImageAddress,\r\n          },\r\n        }\"\r\n      >\r\n        <img :src=\"group.headImageAddress\" />\r\n      </router-link>\r\n      <router-link\r\n        :to=\"{\r\n          name: 'native',\r\n          query: {\r\n            groupID: group.groupID,\r\n            leaderID: group.leaderID,\r\n            groupName: group.groupName,\r\n            headImageAddress: group.headImageAddress,\r\n          },\r\n        }\"\r\n      >\r\n        <h1>{{ group.groupName }}</h1>\r\n      </router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"Block\",\r\n  data() {\r\n    return {\r\n      msg: \"\",\r\n      init: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\"initGroups\"]),\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\"groups\", \"host\", \"users\"]),\r\n  },\r\n  activated() {\r\n    if (!this.init) {\r\n      this.$axios\r\n        .get(\"http://localhost:8080/list/group\", {\r\n          params: {\r\n            userID: this.host.userID,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (!res.data) {\r\n            this.msg = \"你没有加入任何群组\";\r\n          } else {\r\n            this.initGroups(res.data);\r\n          }\r\n          this.init = true;\r\n        })\r\n        .catch((res) => {\r\n          this.msg = \"请求出现异常,请检查网络环境\";\r\n        });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.msg {\r\n  display: inline-block;\r\n  position: relative;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n  color: rgba(0, 0, 0, 0.3);\r\n}\r\n.b {\r\n  float: left;\r\n  margin-left: 100px;\r\n  width: 980px;\r\n  height: 500px;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n.ti {\r\n  float: left;\r\n  margin-left: 20px;\r\n  font-size: 16px;\r\n  font-weight: normal;\r\n  color: #212121;\r\n}\r\n\r\n.join-total {\r\n  float: left;\r\n  position: absolute;\r\n  margin-left: 136px;\r\n  color: #626262;\r\n  font-size: 14px;\r\n}\r\n\r\n.g {\r\n  float: left;\r\n  margin-left: 16px;\r\n  margin-top: 8px;\r\n}\r\n\r\n.g img {\r\n  width: 225px;\r\n  height: 130px;\r\n  vertical-align: middle;\r\n  background-color: red;\r\n}\r\n\r\n.g h1 {\r\n  font-size: 14px;\r\n  color: #212121;\r\n  text-align: center;\r\n  font-weight: normal;\r\n  margin: 10px;\r\n  overflow: hidden;\r\n  width: 205px;\r\n  text-overflow: ellipsis;\r\n  height: 22px;\r\n  white-space: nowrap;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Block.vue?vue&type=template&id=36376cfb&scoped=true&\"\nimport script from \"./Block.vue?vue&type=script&lang=js&\"\nexport * from \"./Block.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Block.vue?vue&type=style&index=0&id=36376cfb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36376cfb\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Nav'),_c('Body')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"nav\"}},[_c('ul',{ref:\"ul\",attrs:{\"id\":\"funcWindow\"}},[_c('li',{ref:\"owner\",attrs:{\"id\":\"imageAndUserName\"}},[_c('img',{attrs:{\"src\":_vm.host.headImageAddress}}),_c('span',{attrs:{\"id\":\"userName\"}},[_vm._v(_vm._s(_vm.host.userName)+\"@\"+_vm._s(_vm.host.userID))])]),_vm._l((_vm.items),function(item,index){return _c('li',{key:index,ref:\"items\",refInFor:true},[_vm._v(\" \"+_vm._s(item)+\" \")])})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"nav\">\r\n    <ul id=\"funcWindow\" ref=\"ul\">\r\n      <li ref=\"owner\" id=\"imageAndUserName\">\r\n        <img :src=\"host.headImageAddress\" />\r\n        <span id=\"userName\">{{ host.userName }}@{{ host.userID }}</span>\r\n      </li>\r\n      <li ref=\"items\" v-for=\"(item, index) in items\" :key=\"index\">\r\n        {{ item }}\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"Nav\",\r\n  data() {\r\n    return {\r\n      items: [\"微信\", \"QQ\", \"搜索班群\", \"客服\"],\r\n    };\r\n  },\r\n  methods: {\r\n    setPadding() {\r\n      let list = [];\r\n      let owner = this.$refs.owner;\r\n      let items = this.$refs.items;\r\n      let ul = this.$refs.ul;\r\n      list.push(owner);\r\n      items.forEach((item) => {\r\n        list.push(item);\r\n      });\r\n\r\n      let ulWid = ul.clientWidth;\r\n      let lisWid = 0;\r\n      let dif;\r\n      for (let i = 0; i < list.length; i++) {\r\n        lisWid += list[i].clientWidth;\r\n      }\r\n      // 这里随便减个5，只是为了避免计算精度的问题，导致nav没显示全\r\n      dif = ulWid - lisWid - 5;\r\n      dif = dif / (list.length * 2);\r\n      for (let i = 0; i < list.length; i++) {\r\n        let paddingLeft = parseInt(\r\n          list[i].style.paddingLeft.substring(\r\n            0,\r\n            list[i].style.paddingLeft.length - 2\r\n          )\r\n        );\r\n        let paddingRight = parseInt(\r\n          list[i].style.paddingRight.substring(\r\n            0,\r\n            list[i].style.paddingRight.length - 2\r\n          )\r\n        );\r\n        list[i].style.paddingLeft = paddingLeft + dif + \"px\";\r\n        list[i].style.paddingRight = paddingRight + dif + \"px\";\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\"host\"]),\r\n  },\r\n  mounted() {\r\n    let list = [];\r\n    let owner = this.$refs.owner;\r\n    let items = this.$refs.items;\r\n    let ul = this.$refs.ul;\r\n    list.push(owner);\r\n    items.forEach((item) => {\r\n      list.push(item);\r\n    });\r\n    for (let i = 0; i < list.length; i++) {\r\n      list[i].style.paddingLeft = 0 + \"px\";\r\n      list[i].style.paddingRight = 0 + \"px\";\r\n    }\r\n    this.setPadding();\r\n    window.addEventListener(\"resize\", this.setPadding);\r\n  },\r\n  beforeDestroy() {\r\n    window.removeEventListener(\"resize\", this.setPadding);\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#nav {\r\n  height: 30px;\r\n  background-color: #12b7f5;\r\n  color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n#nav li {\r\n  float: left;\r\n  line-height: 30px;\r\n}\r\n\r\n#nav li img {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 15px;\r\n  vertical-align: middle;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Nav.vue?vue&type=template&id=3c967b8d&\"\nimport script from \"./Nav.vue?vue&type=script&lang=js&\"\nexport * from \"./Nav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Nav.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('User'),_c('PrivateChatBox'),_c('PublicChatBox')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"user\"}},[_c('ul',{attrs:{\"id\":\"userList\"}},_vm._l((_vm.users),function(user){return _c('li',{key:user.userID,class:{ newMsg: _vm.isNewMsgUser(_vm.full(user)) },on:{\"click\":function($event){_vm.sendApply($event, _vm.wrap(_vm.full(user)), _vm.full(user))}}},[_c('img',{attrs:{\"src\":user.headImageAddress}}),_c('em',[_vm._v(_vm._s(user.userName))]),_c('div',{staticClass:\"mask\"},[_c('i',{staticClass:\"isAlive\",class:{\n            alive: _vm.isAlive(_vm.full(user)),\n            offline: !_vm.isAlive(_vm.full(user)),\n          }},[_vm._v(\" \")])]),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isApply(_vm.full(user))),expression:\"isApply(full(user))\"}],staticClass:\"isApply\",attrs:{\"data-user\":_vm.full(user)},on:{\"click\":function($event){_vm.sendAgree(_vm.wrap2(_vm.full(user)))}}},[_vm._v(\"  \")])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"user\">\r\n    <ul id=\"userList\">\r\n      <li\r\n        v-for=\"user in users\"\r\n        :key=\"user.userID\"\r\n        :class=\"{ newMsg: isNewMsgUser(full(user)) }\"\r\n        @click=\"sendApply($event, wrap(full(user)), full(user))\"\r\n      >\r\n        <img :src=\"user.headImageAddress\" />\r\n        <em>{{ user.userName }}</em>\r\n        <div class=\"mask\">\r\n          <i\r\n            class=\"isAlive\"\r\n            :class=\"{\r\n              alive: isAlive(full(user)),\r\n              offline: !isAlive(full(user)),\r\n            }\"\r\n            >\r\n          </i>\r\n        </div>\r\n        <i\r\n          class=\"isApply\"\r\n          :data-user=\"full(user)\"\r\n          v-show=\"isApply(full(user))\"\r\n          @click=\"sendAgree(wrap2(full(user)))\"\r\n        >\r\n          \r\n        </i>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from \"vuex\";\r\nexport default {\r\n  name: \"User\",\r\n  data() {\r\n    return {\r\n      color: \"red\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\r\n      \"users\",\r\n      \"aliveUsers\",\r\n      \"applyUsers\",\r\n      \"agreeUsers\",\r\n      \"newMsgUsers\",\r\n    ]),\r\n    ...mapGetters(\"group\", [\"fullName\"]),\r\n  },\r\n  methods: {\r\n    full(user) {\r\n      return user.userName + \"@\" + user.userID;\r\n    },\r\n    isNewMsgUser(userName) {\r\n      return this.newMsgUsers.indexOf(userName) !== -1;\r\n    },\r\n    isAlive(userName) {\r\n      return this.aliveUsers.indexOf(userName) !== -1;\r\n    },\r\n    isApply(userName) {\r\n      return this.applyUsers.indexOf(userName) !== -1;\r\n    },\r\n    wrap(target) {\r\n      if (this.agreeUsers.indexOf(target) !== -1) return;\r\n      if (this.aliveUsers.indexOf(target) === -1) return;\r\n      let obj = {\r\n        type: \"/complex/applyConnect\",\r\n        text:\r\n          \"{\" +\r\n          '\"sourceUserName\": ' +\r\n          '\"' +\r\n          this.fullName +\r\n          '\", ' +\r\n          '\"targetUserName\": ' +\r\n          '\"' +\r\n          target +\r\n          '\"' +\r\n          \"}\",\r\n      };\r\n      return obj;\r\n    },\r\n    wrap2(target) {\r\n      let obj = {\r\n        type: \"/complex/agreeConnect\",\r\n        text:\r\n          \"{\" +\r\n          '\"sourceUserName\": ' +\r\n          '\"' +\r\n          this.fullName +\r\n          '\", ' +\r\n          '\"targetUserName\": ' +\r\n          '\"' +\r\n          target +\r\n          '\"' +\r\n          \"}\",\r\n      };\r\n      return obj;\r\n    },\r\n    sendApply(event, obj, target) {\r\n      if (event.target.className === \"isApply\") return;\r\n      //已经建立连接\r\n      if (this.agreeUsers.indexOf(target) !== -1) return;\r\n      //对方不在线\r\n      if (this.aliveUsers.indexOf(target) === -1) return;\r\n      this.$store.dispatch(\"group/sendApply\", obj);\r\n    },\r\n    sendAgree(obj) {\r\n      this.$store.dispatch(\"group/sendAgree\", obj);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@keyframes newMsg {\r\n  from {\r\n    background-color: red;\r\n    opacity: 0.8;\r\n  }\r\n  to {\r\n    background-color: red;\r\n    opacity: 0;\r\n  }\r\n}\r\n\r\n.newMsg::before {\r\n  content: \"\";\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n  animation: newMsg 1.3s infinite;\r\n}\r\n.alive {\r\n  color: green;\r\n}\r\n.offline {\r\n  color: red;\r\n}\r\n\r\n#user ul li {\r\n  position: relative;\r\n  height: 98px;\r\n}\r\n\r\n#user ul li img {\r\n  width: 16%;\r\n  height: 80%;\r\n  padding: 3% 0 0 6%;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n}\r\n\r\n#user ul li .mask {\r\n  display: none;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n#user ul li:hover .mask {\r\n  display: block;\r\n}\r\n\r\n#user ul li .mask .isAlive {\r\n  position: absolute;\r\n  font-family: \"icomoon\";\r\n  font-size: 30px;\r\n  /* color: red; */\r\n  text-align: center;\r\n  line-height: 98px;\r\n  padding-left: 50%;\r\n  left: -15px;\r\n  cursor: pointer;\r\n}\r\n\r\n#user ul li .isApply {\r\n  /* display: none; */\r\n  position: absolute;\r\n  left: 100%;\r\n  top: 50%;\r\n  margin-top: -15px;\r\n  font-family: \"icomoon\";\r\n  font-size: 30px;\r\n  color: #12b7f5;\r\n  cursor: pointer;\r\n}\r\n\r\n#user ul li em {\r\n  padding-left: 1%;\r\n  font-style: normal;\r\n  /* vertical-align: middle; */\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=65183a18&scoped=true&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\nimport style0 from \"./User.vue?vue&type=style&index=0&id=65183a18&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65183a18\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"privateChatBox\"}},[_c('div',{attrs:{\"id\":\"chatBox\"}},[_c('ShowBox'),_c('UserChooseBox'),_c('EditBox')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"showBox\",attrs:{\"id\":\"showBox\"},on:{\"scroll\":_vm.scrollHandler}},[_c('h1',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalUsers.length === 0),expression:\"totalUsers.length === 0\"}]},[_vm._v(\"聊天室\")]),_c('table',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.totalUsers.length === 0),expression:\"totalUsers.length === 0\"}],attrs:{\"id\":\"defaultShowBox\"}},_vm._l((5),function(val){return _c('tr',{key:val},_vm._l((5),function(val){return _c('td',{key:val})}),0)}),0),_vm._l((_vm.totalUsers),function(totalUser,index){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(index === _vm.selected),expression:\"index === selected\"}],key:totalUser},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noMsg.indexOf(totalUser) == -1 && _vm.isTop()),expression:\"noMsg.indexOf(totalUser) == -1 && isTop()\"}],staticClass:\"download\"},[_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"}),_c('div',{staticClass:\"point\"})]),_vm._l((_vm.privateMsg[totalUser]),function(msg,index){return _c('div',{key:index,ref:totalUser,refInFor:true,class:{\n        oppositeUser: msg.sourceID !== _vm.host.userID,\n        user: msg.sourceID === _vm.host.userID,\n      }},[(msg.sourceID !== _vm.host.userID)?[_c('img',{staticClass:\"oppositeUserImage\",attrs:{\"src\":msg.headImageAddress}}),_c('span',{staticClass:\"oppositeUserName\"},[_vm._v(_vm._s(msg.userNameWithoutId))]),_c('br'),_c('div',{staticClass:\"widthLimit\"},[_c('i',{staticClass:\"triangle\"}),_c('p',{staticClass:\"oppositeUserMessage\"},[_vm._v(\" \"+_vm._s(msg.message)+\" \")])])]:[_c('div',{ref:\"bind\",refInFor:true,staticClass:\"bind\"},[_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(msg.userNameWithoutId))]),_c('img',{staticClass:\"userImage\",attrs:{\"src\":msg.headImageAddress}})]),_c('br'),_c('div',{ref:\"widthLimit\",refInFor:true,staticClass:\"widthLimit\"},[_c('p',{ref:\"userMessage\",refInFor:true,staticClass:\"userMessage\"},[_vm._v(\" \"+_vm._s(msg.message)+\" \")]),_c('i',{staticClass:\"triangle\"})])]],2)})],2)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div @scroll=\"scrollHandler\" id=\"showBox\" ref=\"showBox\">\r\n    <h1 v-show=\"totalUsers.length === 0\">聊天室</h1>\r\n    <table v-show=\"totalUsers.length === 0\" id=\"defaultShowBox\">\r\n      <tr v-for=\"val in 5\" :key=\"val\">\r\n        <td v-for=\"val in 5\" :key=\"val\"></td>\r\n      </tr>\r\n    </table>\r\n\r\n    <div\r\n      v-for=\"(totalUser, index) in totalUsers\"\r\n      :key=\"totalUser\"\r\n      v-show=\"index === selected\"\r\n    >\r\n      <!-- 当仍有数据仍读取完毕时 -->\r\n      <div class=\"download\" v-show=\"noMsg.indexOf(totalUser) == -1 && isTop()\">\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n        <div class=\"point\"></div>\r\n      </div>\r\n      <div\r\n        v-for=\"(msg, index) in privateMsg[totalUser]\"\r\n        :key=\"index\"\r\n        :class=\"{\r\n          oppositeUser: msg.sourceID !== host.userID,\r\n          user: msg.sourceID === host.userID,\r\n        }\"\r\n        :ref=\"totalUser\"\r\n      >\r\n        <!-- <template v-if=\"msg.direction === 'opposite'\"> -->\r\n        <template v-if=\"msg.sourceID !== host.userID\">\r\n          <img class=\"oppositeUserImage\" :src=\"msg.headImageAddress\" />\r\n          <span class=\"oppositeUserName\">{{ msg.userNameWithoutId }}</span>\r\n          <br />\r\n          <div class=\"widthLimit\">\r\n            <i class=\"triangle\"></i>\r\n            <p class=\"oppositeUserMessage\">\r\n              {{ msg.message }}\r\n            </p>\r\n          </div>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"bind\" ref=\"bind\">\r\n            <span class=\"userName\">{{ msg.userNameWithoutId }}</span>\r\n            <img class=\"userImage\" :src=\"msg.headImageAddress\" />\r\n          </div>\r\n          <br />\r\n          <div class=\"widthLimit\" ref=\"widthLimit\">\r\n            <p class=\"userMessage\" ref=\"userMessage\">\r\n              {{ msg.message }}\r\n            </p>\r\n            <i class=\"triangle\"></i>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"ShowBox\",\r\n  data() {\r\n    return {\r\n      firstScroll: [],\r\n      noMsg: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\r\n      \"agreeUsers\",\r\n      \"privateMsg\",\r\n      \"selected\",\r\n      \"host\",\r\n      \"room\",\r\n      \"users\",\r\n    ]),\r\n    ...mapGetters(\"group\", [\"totalUsers\", \"fullName\"]),\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"group\", [\"updatePrivateMsgBefore\"]),\r\n    isTop() {\r\n      return (\r\n        this.$refs.showBox.scrollTop === 0 &&\r\n        this.$refs.showBox.scrollHeight !== this.$refs.showBox.clientHeight\r\n      );\r\n    },\r\n    style(userMessage, widthLimit, bind) {\r\n      let msgWid = userMessage.offsetWidth + 36;\r\n      if (msgWid < widthLimit.clientWidth) {\r\n        userMessage.style.left = widthLimit.clientWidth - msgWid + \"px\";\r\n      } else {\r\n        userMessage.style.width = widthLimit.clientWidth - 36 - 20 + \"px\";\r\n      }\r\n      bind.style.left = \"calc(100% - \" + bind.clientWidth + \"px)\";\r\n    },\r\n    scrollHandler() {\r\n      let tar = this.$refs.showBox;\r\n      if (this.isTop()) {\r\n        if (this.noMsg.indexOf(this.totalUsers[this.selectedUser]) === -1) {\r\n          this.getData();\r\n        }\r\n      }\r\n    },\r\n    getData() {\r\n      let selectedUser = this.totalUsers[this.selected];\r\n      let selectedUserID = selectedUser.substring(\r\n        selectedUser.lastIndexOf(\"@\") + 1\r\n      );\r\n      let selectedUserWithoutID = selectedUser.substring(\r\n        0,\r\n        selectedUser.lastIndexOf(\"@\")\r\n      );\r\n      this.$axios\r\n        .get(\"http://localhost:8080/list/record\", {\r\n          params: {\r\n            groupID: this.room.groupID,\r\n            userID: this.host.userID,\r\n            oppositeID: selectedUserID,\r\n            time: this.privateMsg[selectedUser][0].time,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (!res.data || !res.data.length) {\r\n            //未获取到数据 说明已经到末尾\r\n            this.noMsg.push(selectedUser);\r\n          } else {\r\n            for (let privateMsg of res.data) {\r\n              privateMsg.userNameWithoutId =\r\n                privateMsg.sourceID === selectedUserID\r\n                  ? selectedUserWithoutID\r\n                  : this.host.userName;\r\n              privateMsg.headImageAddress =\r\n                privateMsg.sourceID === selectedUserID\r\n                  ? this.users.filter(\r\n                      (user) => user.userID === selectedUserID\r\n                    )[0].headImageAddress\r\n                  : this.host.headImageAddress;\r\n              privateMsg.sourceName =\r\n                privateMsg.userNameWithoutId + \"@\" + privateMsg.sourceID;\r\n              privateMsg.targetName =\r\n                (privateMsg.targetID === selectedUserID\r\n                  ? selectedUserWithoutID\r\n                  : this.host.userName) +\r\n                \"@\" +\r\n                privateMsg.targetID;\r\n              this.updatePrivateMsgBefore(privateMsg);\r\n            }\r\n          }\r\n        });\r\n    },\r\n    wholeStyle() {\r\n      if (this.firstScroll.indexOf(this.totalUsers[this.selected]) !== -1)\r\n        return;\r\n      this.firstScroll.push(this.totalUsers[this.selected]);\r\n      let array = this.$refs[this.totalUsers[this.selected]];\r\n      if (!array) return;\r\n      for (let i = array.length - 1; i >= 0; i--) {\r\n        let msg = array[i];\r\n        if (msg.className === \"oppositeUser\") continue;\r\n        let bind = msg.querySelector(\".bind\");\r\n        let widthLimit = msg.querySelector(\".widthLimit\");\r\n        let userMessage = widthLimit.querySelector(\".userMessage\");\r\n        this.style(userMessage, widthLimit, bind);\r\n      }\r\n    },\r\n  },\r\n  beforeUpdate() {\r\n    let tar = this.$refs.showBox;\r\n    if (tar.scrollHeight - tar.clientHeight - tar.scrollTop < 5) {\r\n      this.$nextTick(() => {\r\n        tar.scrollTop = tar.scrollHeight - tar.clientHeight;\r\n        if (tar.scrollTop !== 0) {\r\n          this.wholeStyle();\r\n        }\r\n      });\r\n    }\r\n  },\r\n  updated() {\r\n    let array = this.$refs[this.totalUsers[this.selected]];\r\n    if (!array) return;\r\n    for (let i = array.length - 1; i >= 0; i--) {\r\n      let msg = array[i];\r\n      if (msg.className === \"oppositeUser\") continue;\r\n      if (msg.querySelector(\".bind\").style.left) break;\r\n\r\n      let bind = msg.querySelector(\".bind\");\r\n      let widthLimit = msg.querySelector(\".widthLimit\");\r\n      let userMessage = widthLimit.querySelector(\".userMessage\");\r\n      this.style(userMessage, widthLimit, bind);\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.download {\r\n  position: absolute;\r\n  margin: 5px 47%;\r\n  width: 6%;\r\n  height: 10%;\r\n}\r\n\r\n.point {\r\n  position: absolute;\r\n  top: 10%;\r\n  left: 50%;\r\n  width: 20%;\r\n  height: 20%;\r\n  border-radius: 50%;\r\n  background-color: #787878;\r\n  transform: translateX(-50%);\r\n  transform-origin: 50% 200%;\r\n}\r\n\r\n.download .point:nth-child(1) {\r\n  transform: translateX(-50%) rotate(0deg);\r\n  animation: cache 1s 0s infinite;\r\n}\r\n\r\n.download .point:nth-child(2) {\r\n  transform: translateX(-50%) rotate(45deg);\r\n  animation: cache 1s 0.125s infinite;\r\n}\r\n\r\n.download .point:nth-child(3) {\r\n  transform: translateX(-50%) rotate(90deg);\r\n  animation: cache 1s 0.25s infinite;\r\n}\r\n\r\n.download .point:nth-child(4) {\r\n  transform: translateX(-50%) rotate(135deg);\r\n  animation: cache 1s 0.375s infinite;\r\n}\r\n\r\n.download .point:nth-child(5) {\r\n  transform: translateX(-50%) rotate(180deg);\r\n  animation: cache 1s 0.5s infinite;\r\n}\r\n\r\n.download .point:nth-child(6) {\r\n  transform: translateX(-50%) rotate(225deg);\r\n  animation: cache 1s 0.625s infinite;\r\n}\r\n\r\n.download .point:nth-child(7) {\r\n  transform: translateX(-50%) rotate(270deg);\r\n  animation: cache 1s 0.75s infinite;\r\n}\r\n\r\n.download .point:nth-child(8) {\r\n  transform: translateX(-50%) rotate(315deg);\r\n  animation: cache 1s 0.875s infinite;\r\n}\r\n\r\n@keyframes cache {\r\n  from {\r\n    width: 20%;\r\n    height: 20%;\r\n    background-color: #787878;\r\n  }\r\n\r\n  to {\r\n    width: 25%;\r\n    height: 25%;\r\n    background-color: #fff;\r\n  }\r\n}\r\n#showBox {\r\n  position: relative;\r\n  overflow: auto;\r\n  height: 340px;\r\n  border-radius: 20px 20px 0 0;\r\n  background-color: #fff;\r\n}\r\n\r\n#showBox .oppositeUser,\r\n#showBox .user {\r\n  position: relative;\r\n}\r\n\r\n#showBox .oppositeUser {\r\n  margin-left: 15px;\r\n}\r\n\r\n#showBox .user {\r\n  margin-right: 15px;\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserImage,\r\n#showBox .user .userImage {\r\n  width: 30px;\r\n  height: 30px;\r\n  border-radius: 15px;\r\n  vertical-align: text-top;\r\n}\r\n\r\n#showBox .user .bind {\r\n  /* 这里转化为行内块元素，这样</br>不会另起一行 */\r\n  display: inline-block;\r\n  position: relative;\r\n  left: calc(100% - 50px);\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserName,\r\n#showBox .user .userName {\r\n  font-size: 10px;\r\n  color: #7f7f7f;\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserName {\r\n  padding-left: 5px;\r\n}\r\n\r\n#showBox .user .userName {\r\n  padding-right: 5px;\r\n}\r\n\r\n#showBox .oppositeUser .widthLimit,\r\n#showBox .user .widthLimit {\r\n  position: relative;\r\n  width: 70%;\r\n}\r\n\r\n#showBox .user .widthLimit {\r\n  left: 30%;\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserMessage,\r\n#showBox .user .userMessage {\r\n  position: relative;\r\n  top: -10px;\r\n  display: inline-block;\r\n  padding: 0 10px 0 10px;\r\n  border-radius: 5px;\r\n  line-height: 25px;\r\n  word-wrap: break-word;\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserMessage {\r\n  background-color: #e5e5e5;\r\n}\r\n\r\n#showBox .user .userMessage {\r\n  background-color: #12b7f5;\r\n  color: #fff;\r\n}\r\n\r\n#showBox .oppositeUser .oppositeUserMessage {\r\n  /* left: 36px; */\r\n  margin-left: 36px;\r\n}\r\n\r\n#showBox .user .userMessage {\r\n  margin-right: 36px;\r\n}\r\n\r\n#showBox .oppositeUser .triangle,\r\n#showBox .user .triangle {\r\n  position: absolute;\r\n  top: 0px;\r\n  display: inline-block;\r\n  border-top: 5px solid transparent;\r\n}\r\n\r\n#showBox .oppositeUser .triangle {\r\n  left: 25px;\r\n  transform: rotate(35deg);\r\n  border-right: 15px solid #e5e5e5;\r\n}\r\n\r\n#showBox .user .triangle {\r\n  right: 25px;\r\n  transform: rotate(145deg);\r\n  border-right: 15px solid #12b7f5;\r\n}\r\n\r\n#showBox #defaultShowBox {\r\n  /* 需改动____________________ */\r\n  display: table;\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n#showBox h1 {\r\n  /* 需改动____________________ */\r\n  display: block;\r\n  position: absolute;\r\n  left: -45px;\r\n  top: 155px;\r\n  margin-left: 50%;\r\n  font: 30px \"Microsoft YaHei\";\r\n}\r\n\r\n#showBox #defaultShowBox td {\r\n  /* width: 20%; */\r\n  height: 68px;\r\n  border-radius: 20px;\r\n  background-color: #efefef;\r\n  border-spacing: 0;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShowBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ShowBox.vue?vue&type=template&id=377fe36f&\"\nimport script from \"./ShowBox.vue?vue&type=script&lang=js&\"\nexport * from \"./ShowBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ShowBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"userChooseBox\"}},[_vm._l((_vm.totalUsers),function(totalUser,index){return _c('button',{key:totalUser,staticClass:\"user\",class:{\n      selected: _vm.selected === index,\n      offline: index > _vm.agreeUsers.length - 1,\n    },on:{\"click\":function($event){return _vm.clickSelected(index)}}},[_vm._v(\" \"+_vm._s(totalUser.substring(0, totalUser.lastIndexOf(\"@\")))+\" \")])}),_c('span',{ref:\"laba\",staticClass:\"laba\",on:{\"click\":_vm.changeMode}},[_vm._v(\"\")])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"userChooseBox\">\r\n    <button\r\n      v-for=\"(totalUser, index) in totalUsers\"\r\n      :key=\"totalUser\"\r\n      class=\"user\"\r\n      :class=\"{\r\n        selected: selected === index,\r\n        offline: index > agreeUsers.length - 1,\r\n      }\"\r\n      @click=\"clickSelected(index)\"\r\n    >\r\n      {{ totalUser.substring(0, totalUser.lastIndexOf(\"@\")) }}\r\n    </button>\r\n    <span @click=\"changeMode\" class=\"laba\" ref=\"laba\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapActions, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"UserChooseBox\",\r\n  data() {\r\n    return {\r\n      public: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\r\n      \"agreeUsers\",\r\n      \"aliveUsers\",\r\n      \"newMsgUsers\",\r\n      \"selected\",\r\n    ]),\r\n    ...mapGetters(\"group\", [\"totalUsers\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\"updateSelected\"]),\r\n    ...mapMutations(\"group\", [\"updateNewMsgUsers\"]),\r\n    clickSelected(index) {\r\n      let userName = this.totalUsers[index];\r\n      let newMsgUsers = this.newMsgUsers.filter((name) => name !== userName);\r\n      this.updateSelected(index);\r\n      this.updateNewMsgUsers(newMsgUsers);\r\n    },\r\n    changeMode() {\r\n      this.public = !this.public;\r\n      let bgc = \"\";\r\n      let color = \"\";\r\n      if (this.public) {\r\n        this.$refs.laba.innerText = \"\";\r\n        bgc = \"#0b0c10\";\r\n        color = \"#fff000\";\r\n      } else {\r\n        this.$refs.laba.innerText = \"\";\r\n        bgc = \"#fff\";\r\n        color = \"#000\";\r\n      }\r\n      this.$bus.$emit(\"choosePublic\", this.public);\r\n      this.$bus.$emit(\"chooseColor\", color);\r\n      this.$bus.$emit(\"chooseBackGroundColor\", bgc);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#userChooseBox {\r\n  position: relative;\r\n  height: 20px;\r\n  border: 1px #ebebeb solid;\r\n  background-color: #fff;\r\n}\r\n#userChooseBox .user:hover {\r\n  border: 1px solid #12b7f5;\r\n  background-color: #fff;\r\n  color: #12b7f5;\r\n}\r\n#userChooseBox .user {\r\n  float: left;\r\n  border: 0;\r\n  padding: 0 5px 0;\r\n  height: 18px;\r\n  border-radius: 15px;\r\n  line-height: 18px;\r\n  color: #cab4b4;\r\n}\r\n\r\n#userChooseBox .selected {\r\n  border: 1px solid #12b7f5;\r\n  background-color: #fff;\r\n  color: #12b7f5;\r\n}\r\n#userChooseBox .offline {\r\n  background-color: #000;\r\n  color: red;\r\n}\r\n#userChooseBox .laba {\r\n  position: absolute;\r\n  top: 0%;\r\n  left: 100%;\r\n  border-radius: 10px;\r\n  font-family: \"icomoon\";\r\n  font-size: 20px;\r\n  color: #fff000;\r\n  background-color: #000;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserChooseBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserChooseBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserChooseBox.vue?vue&type=template&id=1ab950b4&\"\nimport script from \"./UserChooseBox.vue?vue&type=script&lang=js&\"\nexport * from \"./UserChooseBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserChooseBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editBox\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.msg),expression:\"msg\"}],style:({ color: _vm.color, backgroundColor: _vm.backgroundColor }),domProps:{\"value\":(_vm.msg)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.msg=$event.target.value}}}),_vm._v(\" \"),_c('button',{style:({ color: _vm.color }),attrs:{\"id\":\"close\"}},[_vm._v(\"关闭\")]),_c('button',{style:(_vm.color),attrs:{\"id\":\"send\",\"disabled\":_vm.isDisabled()},on:{\"click\":_vm.send}},[_vm._v(\" 发送 \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"editBox\">\r\n    <textarea v-model=\"msg\" :style=\"{ color, backgroundColor }\" />\r\n    <button id=\"close\" :style=\"{ color }\">关闭</button>\r\n    <button @click=\"send\" id=\"send\" :disabled=\"isDisabled()\" :style=\"color\">\r\n      发送\r\n    </button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState, mapGetters } from \"vuex\";\r\nexport default {\r\n  name: \"EditBox\",\r\n  data() {\r\n    return {\r\n      // selected: -1,\r\n      msg: \"\",\r\n      public: false,\r\n      color: \"#000\",\r\n      backgroundColor: \"#fff\",\r\n    };\r\n  },\r\n  computed: {\r\n    // ...mapState(\"group\", [\"agreeUsers\", \"host\"]),\r\n    ...mapState(\"group\", [\"host\", \"room\", \"agreeUsers\", \"selected\"]),\r\n    ...mapGetters(\"group\", [\"fullName\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\"sendPrivate\", \"sendPublic\"]),\r\n    isDisabled() {\r\n      return (\r\n        (!this.agreeUsers.length ||\r\n          this.selected > this.agreeUsers.length - 1) &&\r\n        !this.public\r\n      );\r\n    },\r\n    send() {\r\n      if (!this.public) {\r\n        this.sendPrivate(this.wrap());\r\n      } else {\r\n        this.sendPublic(this.wrap2());\r\n      }\r\n    },\r\n    wrap() {\r\n      let obj = {\r\n        type: \"/complex/sendMessageToUser\",\r\n        text:\r\n          \"{\" +\r\n          '\"groupID\": ' +\r\n          '\"' +\r\n          this.room.groupID +\r\n          '\", ' +\r\n          '\"sourceID\": ' +\r\n          '\"' +\r\n          this.host.userID +\r\n          '\", ' +\r\n          '\"targetID\": ' +\r\n          '\"' +\r\n          this.agreeUsers[this.selected].substring(\r\n            this.agreeUsers[this.selected].lastIndexOf(\"@\") + 1\r\n          ) +\r\n          '\", ' +\r\n          '\"time\": ' +\r\n          '\"' +\r\n          Date.now() +\r\n          '\", ' +\r\n          '\"message\": ' +\r\n          '\"' +\r\n          this.msg +\r\n          '\" ,' +\r\n          // -----------------------------\r\n          '\"targetName\": ' +\r\n          '\"' +\r\n          this.agreeUsers[this.selected] +\r\n          '\", ' +\r\n          '\"sourceName\": ' +\r\n          '\"' +\r\n          this.fullName +\r\n          '\", ' +\r\n          '\"userNameWithoutId\": ' +\r\n          '\"' +\r\n          this.host.userName +\r\n          '\", ' +\r\n          '\"headImageAddress\": ' +\r\n          '\"' +\r\n          this.host.headImageAddress +\r\n          '\"' +\r\n          \"}\",\r\n      };\r\n\r\n      return obj;\r\n    },\r\n    wrap2() {\r\n      let obj = {\r\n        type: \"/simple/greeting\",\r\n        text:\r\n          \"{\" +\r\n          '\"userName\": ' +\r\n          '\"' +\r\n          this.fullName +\r\n          '\",' +\r\n          '\"content\": ' +\r\n          '\"' +\r\n          this.msg +\r\n          '\"' +\r\n          \"}\",\r\n      };\r\n      return obj;\r\n    },\r\n    clickBtn() {\r\n      if (!this.public) {\r\n        this.sendPrivate(this.wrap());\r\n      } else {\r\n        this.sendPublic(this.wrap2());\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$bus.$on(\"choosePublic\", (bool) => {\r\n      this.public = bool;\r\n    });\r\n    this.$bus.$on(\"chooseColor\", (color) => {\r\n      this.color = color;\r\n    });\r\n    this.$bus.$on(\"chooseBackGroundColor\", (bgc) => {\r\n      this.backgroundColor = bgc;\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ntextarea {\r\n  outline: none;\r\n  border-width: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  resize: none;\r\n}\r\n#editBox {\r\n  position: relative;\r\n  height: 210px;\r\n  background-color: #ffffff;\r\n}\r\n\r\n#editBox #close,\r\n#editBox #send {\r\n  position: absolute;\r\n  right: 110px;\r\n  bottom: 10px;\r\n  width: 90px;\r\n  height: 30px;\r\n  border: 1px solid #cdcfd0;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  cursor: pointer;\r\n}\r\n\r\n#editBox #send {\r\n  right: 10px;\r\n  color: white;\r\n  background-color: #12b7f5;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditBox.vue?vue&type=template&id=12561b9f&scoped=true&\"\nimport script from \"./EditBox.vue?vue&type=script&lang=js&\"\nexport * from \"./EditBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditBox.vue?vue&type=style&index=0&id=12561b9f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12561b9f\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"privateChatBox\">\r\n    <div id=\"chatBox\">\r\n      <ShowBox />\r\n      <UserChooseBox />\r\n      <EditBox />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport ShowBox from \"./ShowBox.vue\";\r\nimport UserChooseBox from \"./UserChooseBox.vue\";\r\nimport EditBox from \"./EditBox.vue\";\r\nexport default {\r\n  name: \"PrivateChatBox\",\r\n  components: { ShowBox, UserChooseBox, EditBox },\r\n};\r\n</script>\r\n\r\n<style>\r\n#chatBox {\r\n  position: relative;\r\n  left: -35%;\r\n  top: 50px;\r\n  margin-left: 50%;\r\n  width: 70%;\r\n  height: 570px;\r\n  /* background-color: brown; */\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrivateChatBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrivateChatBox.vue?vue&type=template&id=18f2d97b&\"\nimport script from \"./PrivateChatBox.vue?vue&type=script&lang=js&\"\nexport * from \"./PrivateChatBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PrivateChatBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"publicChatBox\"}},[_vm._m(0),_c('div',{ref:\"showBox\",attrs:{\"id\":\"p_showBox\"}},_vm._l((_vm.msgList),function(obj,index){return _c('p',{key:index},[_c('span',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(obj.userName + \" \"))]),_c('span',[_vm._v(_vm._s(obj.content))])])}),0),_c('div',{attrs:{\"id\":\"extraTool\"}},[_vm._v(\"额外带扩展窗口\")])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"laba\"}},[_c('div',{attrs:{\"id\":\"signal\"}},[_vm._v(\"喇叭\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"publicChatBox\">\r\n    <div id=\"laba\">\r\n      <div id=\"signal\">喇叭</div>\r\n    </div>\r\n    <div id=\"p_showBox\" ref=\"showBox\">\r\n      <p v-for=\"(obj, index) in msgList\" :key=\"index\">\r\n        <span style=\"color: red\">{{ obj.userName + \" \" }}</span>\r\n        <span>{{ obj.content }}</span>\r\n      </p>\r\n    </div>\r\n    <div id=\"extraTool\">额外带扩展窗口</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nexport default {\r\n  name: \"PublicChatBox\",\r\n  data() {\r\n    return {\r\n      focus: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\"msgList\"]),\r\n  },\r\n  methods: {},\r\n  beforeUpdate() {\r\n    let tar = this.$refs.showBox;\r\n    if (tar.scrollHeight - tar.clientHeight - tar.scrollTop < 5) {\r\n      this.$nextTick(() => {\r\n        tar.scrollTop = tar.scrollHeight - tar.clientHeight;\r\n      });\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#publicChatBox #laba {\r\n  height: 24px;\r\n  background-color: #1e242e;\r\n}\r\n\r\n#publicChatBox #laba #signal {\r\n  position: relative;\r\n  top: 3px;\r\n  width: 50px;\r\n  height: 20px;\r\n  border: 1px solid #e9de8e;\r\n  border-radius: 2px;\r\n  background-color: #383121;\r\n  color: #fff000;\r\n  text-align: center;\r\n  line-height: 20px;\r\n}\r\n\r\n#publicChatBox #p_showBox {\r\n  border: 5px solid #4a3b26;\r\n  float: left;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  height: 432px;\r\n  line-height: 25px;\r\n  overflow: auto;\r\n  word-wrap: break-word;\r\n  background-color: #0b0c10;\r\n  color: #fff000;\r\n}\r\n\r\n#publicChatBox #p_showBox::-webkit-scrollbar {\r\n  background-color: #0b0c10;\r\n  width: 5px;\r\n}\r\n\r\n#publicChatBox #p_showBox::-webkit-scrollbar-thumb {\r\n  background-color: #4a3b26;\r\n  border-radius: 2px;\r\n}\r\n#publicChatBox #extraTool {\r\n  float: left;\r\n  width: 100%;\r\n  height: 230px;\r\n  background-color: #fff;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChatBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChatBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PublicChatBox.vue?vue&type=template&id=4208913d&\"\nimport script from \"./PublicChatBox.vue?vue&type=script&lang=js&\"\nexport * from \"./PublicChatBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PublicChatBox.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <User />\r\n    <PrivateChatBox />\r\n    <PublicChatBox />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport User from \"./User.vue\";\r\nimport PrivateChatBox from \"./PrivateChatBox.vue\";\r\nimport PublicChatBox from \"./PublicChatBox.vue\";\r\nexport default {\r\n  name: \"Body\",\r\n  components: { User, PrivateChatBox, PublicChatBox },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  height: 690px;\r\n}\r\n\r\n#app > div {\r\n  float: left;\r\n  height: 690px;\r\n}\r\n#user {\r\n  width: 25%;\r\n  background-color: #fff;\r\n}\r\n#privateChatBox {\r\n  width: 50%;\r\n  background-color: #ebebeb;\r\n}\r\n#publicChatBox {\r\n  width: 25%;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Body.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Body.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Body.vue?vue&type=template&id=42146aee&\"\nimport script from \"./Body.vue?vue&type=script&lang=js&\"\nexport * from \"./Body.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Body.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Nav />\r\n    <Body />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState, mapMutations } from \"vuex\";\r\nimport Nav from \"./Nav.vue\";\r\nimport Body from \"./Body.vue\";\r\nimport vue from \"../main\";\r\nexport default {\r\n  name: \"Native\",\r\n  components: { Nav, Body },\r\n  props: [\"groupID\", \"leaderID\", \"groupName\", \"headImageAddress\"],\r\n  computed: {\r\n    ...mapState(\"group\", [\"host\", \"room\", \"users\"]),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"group\", [\r\n      \"initUsers\",\r\n      \"initRoom\",\r\n      \"connect\",\r\n      \"disconnect\",\r\n      \"destroyData\",\r\n      \"destroyMsg\",\r\n    ]),\r\n    ...mapMutations(\"group\", [\"updatePrivateMsg\"]),\r\n  },\r\n  activated() {\r\n    // 如果与上次访问的群组不相同，则销毁公发数据,私发数据,并向数据库申请私发数据\r\n    let needRequest = false;\r\n    if (this.room.groupID !== this.groupID) {\r\n      this.destroyMsg();\r\n      needRequest = true;\r\n    }\r\n    //根据群组ID 以及 自身ID 获取该群组内的用户列表\r\n    this.$axios\r\n      .get(\"http://localhost:8080/list/user\", {\r\n        params: {\r\n          userID: this.host.userID,\r\n          groupID: this.groupID,\r\n        },\r\n      })\r\n      .then((res) => {\r\n        if (!res.data) {\r\n          alert(\"获取群组列表失败\");\r\n          this.$router.replace({\r\n            name: \"group\",\r\n          });\r\n        } else {\r\n          //获取用户列表成功\r\n          this.destroyData();\r\n          this.initRoom({\r\n            groupID: this.groupID,\r\n            leaderID: this.leaderID,\r\n            groupName: this.groupName,\r\n            headImageAddress: this.headImageAddress,\r\n          });\r\n          this.initUsers(res.data);\r\n          //获取用户列表后再依次获取与各个用户的聊天数据\r\n          if (needRequest) {\r\n            for (let user of this.users) {\r\n              this.$axios\r\n                .get(\"http://localhost:8080/list/record\", {\r\n                  params: {\r\n                    groupID: this.room.groupID,\r\n                    userID: this.host.userID,\r\n                    oppositeID: user.userID,\r\n                    time: Date.now(),\r\n                  },\r\n                })\r\n                .then((res) => {\r\n                  if (!res.data || !res.data.length) {\r\n                  } else {\r\n                    for (let i = res.data.length - 1; i >= 0; i--) {\r\n                      let privateMsg = res.data[i];\r\n                      privateMsg.userNameWithoutId =\r\n                        privateMsg.sourceID == user.userID\r\n                          ? user.userName\r\n                          : this.host.userName;\r\n                      privateMsg.headImageAddress =\r\n                        privateMsg.sourceID == user.userID\r\n                          ? user.headImageAddress\r\n                          : this.host.headImageAddress;\r\n                      privateMsg.sourceName =\r\n                        privateMsg.userNameWithoutId +\r\n                        \"@\" +\r\n                        privateMsg.sourceID;\r\n                      privateMsg.targetName =\r\n                        (privateMsg.targetID == user.userID\r\n                          ? user.userName\r\n                          : this.host.userName) +\r\n                        \"@\" +\r\n                        privateMsg.targetID;\r\n\r\n                      this.updatePrivateMsg(privateMsg);\r\n                    }\r\n                  }\r\n                });\r\n            }\r\n          }\r\n          //必须得把connect放在下面，可能连接上，广播消息，然后接收消息的时候会先于destroyData方法的调用\r\n          this.connect();\r\n        }\r\n      })\r\n      .catch((res) => {\r\n        this.error = \"请求发生异常，请检查网络环境\";\r\n        this.$router.replace({\r\n          name: \"group\",\r\n        });\r\n      });\r\n  },\r\n  deactivated() {\r\n    //退出时，先删除用户关联\r\n    this.destroyData();\r\n    this.disconnect();\r\n  },\r\n  //当用户跳转去其他网站，又跳转回来时，需要重新登录\r\n  beforeRouteEnter(to, from, next) {\r\n    // !vue出现在vue程序完全从头开始构建组件时，此时还没vue实例\r\n    if (!vue) {\r\n      return;\r\n    }\r\n    if (!vue.$store.state.group.host.userID) {\r\n      alert(\"你还没有登录\");\r\n      //重新跳转到登录页\r\n      vue.$router.replace({\r\n        name: \"login\",\r\n      });\r\n      return;\r\n    }\r\n    //继续判断是否是新注册用户，没有昵称，跳转到group页面\r\n    if (!vue.$store.state.group.host.userName) {\r\n      alert(\"你还没有设置昵称\");\r\n      vue.$router.replace({\r\n        name: \"group\",\r\n      });\r\n      return;\r\n    }\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Native.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Native.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Native.vue?vue&type=template&id=6ffdc0a8&\"\nimport script from \"./Native.vue?vue&type=script&lang=js&\"\nexport * from \"./Native.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting\"},[_c('ul',[_c('li',[_c('img',{attrs:{\"id\":\"head\",\"src\":_vm.host.headImageAddress}}),_c('div',{attrs:{\"id\":\"persion\"}},[_c('span',{attrs:{\"id\":\"name\"}},[_vm._v(_vm._s(_vm.host.userName))]),_c('br'),_c('span',{attrs:{\"id\":\"userID\"}},[_vm._v(_vm._s(_vm.host.userID))])]),_c('i',{staticClass:\"rectangle\",on:{\"click\":function($event){_vm.showUpdateList = !_vm.showUpdateList}}}),_c('i',{staticClass:\"rectangle\",on:{\"click\":function($event){_vm.showUpdateList = !_vm.showUpdateList}}}),_c('i',{staticClass:\"rectangle\",on:{\"click\":function($event){_vm.showUpdateList = !_vm.showUpdateList}}}),_c('ul',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpdateList),expression:\"showUpdateList\"}],attrs:{\"id\":\"updateList\"}},[_c('li',{on:{\"click\":function($event){_vm.showUpdateHeadImage = true;\n            _vm.showUpdateUserName = false;}}},[_vm._v(\" 更改头像 \")]),_c('li',{on:{\"click\":function($event){_vm.showUpdateUserName = true;\n            _vm.showUpdateHeadImage = false;}}},[_vm._v(\" 更改昵称 \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpdateHeadImage),expression:\"showUpdateHeadImage\"}],attrs:{\"id\":\"updateHeadImage\"}},[_c('div',{staticClass:\"tip\"},[_vm._v(\"选择一张图片\")]),_c('div',{staticClass:\"upload\"},[_c('input',{ref:\"photo\",attrs:{\"type\":\"file\"}}),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.uploadHeadImage}},[_vm._v(\"上传\")])]),_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.showUpdateHeadImage = false}}},[_c('i',{staticClass:\"leftLine\"}),_c('i',{staticClass:\"rightLine\"})])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showUpdateUserName),expression:\"showUpdateUserName\"}],attrs:{\"id\":\"updateUserName\"}},[_c('div',{staticClass:\"tip\"},[_vm._v(\"修改昵称\")]),_c('div',{staticClass:\"upload\"},[_vm._v(\" 编辑昵称 \"),_c('input',{ref:\"userName\",attrs:{\"type\":\"text\",\"placeholder\":\"昵称\"}}),_c('button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.uploadUserName}},[_vm._v(\"更新\")])]),_c('div',{staticClass:\"close\",on:{\"click\":function($event){_vm.showUpdateUserName = false}}},[_c('i',{staticClass:\"leftLine\"}),_c('i',{staticClass:\"rightLine\"})])])]),_c('li',[_c('span',[_vm._v(\"\")]),_c('span',{class:{ noMsg: !_vm.host.detail.sex }},[_vm._v(_vm._s(_vm.host.detail.sex ? _vm.host.detail.sex : \"性别\"))]),_c('i',{staticClass:\"line\"}),_c('span',{class:{ noMsg: !_vm.host.detail.age }},[_vm._v(_vm._s(_vm.host.detail.age ? _vm.host.detail.age : \"年龄\"))]),_c('i',{staticClass:\"line\"}),_c('span',{class:{ noMsg: !_vm.host.detail.birthday }},[_vm._v(_vm._s(_vm.host.detail.birthday ? _vm.getBirthday(_vm.host.detail.birthday) : \"出生日期\"))]),_c('i',{staticClass:\"line\"}),_c('span',{class:{ noMsg: !_vm.host.detail.location }},[_vm._v(_vm._s(_vm.host.detail.location ? _vm.host.detail.location : \"居住地址\"))]),_c('i',{staticClass:\"triangle\",on:{\"click\":_vm.skipToEdit}})]),_c('li',[_c('span',[_vm._v(\"\")]),_c('span',{class:{ noMsg: !_vm.host.detail.persionalSign }},[_vm._v(_vm._s(_vm.host.detail.persionalSign ? _vm.host.detail.persionalSign : \"个性签名\"))]),_c('i',{staticClass:\"triangle\",on:{\"click\":_vm.skipToEdit}})]),_c('li',[_c('span',[_vm._v(\"xx\")]),_c('i',{staticClass:\"triangle\",on:{\"click\":_vm.skipToEdit}})]),_c('li',[_c('span',[_vm._v(\"xx\")]),_c('i',{staticClass:\"triangle\",on:{\"click\":_vm.skipToEdit}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"setting\">\r\n    <ul>\r\n      <li>\r\n        <img id=\"head\" :src=\"host.headImageAddress\" />\r\n        <div id=\"persion\">\r\n          <span id=\"name\">{{ host.userName }}</span>\r\n          <br />\r\n          <span id=\"userID\">{{ host.userID }}</span>\r\n        </div>\r\n        <!-- 三根横线 -->\r\n        <i @click=\"showUpdateList = !showUpdateList\" class=\"rectangle\"></i>\r\n        <i @click=\"showUpdateList = !showUpdateList\" class=\"rectangle\"></i>\r\n        <i @click=\"showUpdateList = !showUpdateList\" class=\"rectangle\"></i>\r\n        <ul v-show=\"showUpdateList\" id=\"updateList\">\r\n          <!-- 更改头像和更改昵称互斥 -->\r\n\r\n          <li\r\n            @click=\"\r\n              showUpdateHeadImage = true;\r\n              showUpdateUserName = false;\r\n            \"\r\n          >\r\n            更改头像\r\n          </li>\r\n          <li\r\n            @click=\"\r\n              showUpdateUserName = true;\r\n              showUpdateHeadImage = false;\r\n            \"\r\n          >\r\n            更改昵称\r\n          </li>\r\n        </ul>\r\n        <div v-show=\"showUpdateHeadImage\" id=\"updateHeadImage\">\r\n          <div class=\"tip\">选择一张图片</div>\r\n          <div class=\"upload\">\r\n            <!-- 上传新头像 -->\r\n            <input type=\"file\" ref=\"photo\" />\r\n            <button @click=\"uploadHeadImage\" type=\"button\">上传</button>\r\n          </div>\r\n          <div @click=\"showUpdateHeadImage = false\" class=\"close\">\r\n            <i class=\"leftLine\"></i>\r\n            <i class=\"rightLine\"></i>\r\n          </div>\r\n        </div>\r\n        <div v-show=\"showUpdateUserName\" id=\"updateUserName\">\r\n          <div class=\"tip\">修改昵称</div>\r\n          <div class=\"upload\">\r\n            编辑昵称 <input type=\"text\" placeholder=\"昵称\" ref=\"userName\" />\r\n            <button @click=\"uploadUserName\" type=\"button\">更新</button>\r\n          </div>\r\n          <div @click=\"showUpdateUserName = false\" class=\"close\">\r\n            <i class=\"leftLine\"></i>\r\n            <i class=\"rightLine\"></i>\r\n          </div>\r\n        </div>\r\n      </li>\r\n      <li>\r\n        <span></span>\r\n        <span :class=\"{ noMsg: !host.detail.sex }\">{{\r\n          host.detail.sex ? host.detail.sex : \"性别\"\r\n        }}</span\r\n        ><i class=\"line\"></i>\r\n        <span :class=\"{ noMsg: !host.detail.age }\">{{\r\n          host.detail.age ? host.detail.age : \"年龄\"\r\n        }}</span\r\n        ><i class=\"line\"></i>\r\n        <span :class=\"{ noMsg: !host.detail.birthday }\">{{\r\n          host.detail.birthday ? getBirthday(host.detail.birthday) : \"出生日期\"\r\n        }}</span\r\n        ><i class=\"line\"></i>\r\n        <span :class=\"{ noMsg: !host.detail.location }\">{{\r\n          host.detail.location ? host.detail.location : \"居住地址\"\r\n        }}</span>\r\n        <i @click=\"skipToEdit\" class=\"triangle\"></i>\r\n      </li>\r\n      <li>\r\n        <span></span>\r\n        <span :class=\"{ noMsg: !host.detail.persionalSign }\">{{\r\n          host.detail.persionalSign ? host.detail.persionalSign : \"个性签名\"\r\n        }}</span>\r\n        <i @click=\"skipToEdit\" class=\"triangle\"></i>\r\n      </li>\r\n      <li>\r\n        <span>xx</span>\r\n        <i @click=\"skipToEdit\" class=\"triangle\"></i>\r\n      </li>\r\n      <li>\r\n        <span>xx</span>\r\n        <i @click=\"skipToEdit\" class=\"triangle\"></i>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Setting\",\r\n  data() {\r\n    return {\r\n      showUpdateList: false,\r\n      showUpdateHeadImage: false,\r\n      showUpdateUserName: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState(\"group\", [\"host\"]),\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"group\", [\"updateHeadImage\", \"updateUserName\"]),\r\n    //点击>跳转到edit的页面\r\n    skipToEdit() {\r\n      this.$router.replace({\r\n        name: \"edit\",\r\n      });\r\n    },\r\n    getBirthday(birthday) {\r\n      console.log(birthday);\r\n      let date = new Date(birthday);\r\n      return (\r\n        date.getFullYear() +\r\n        \"年\" +\r\n        (date.getMonth() + 1) +\r\n        \"月\" +\r\n        (date.getDay() + 1) +\r\n        \"日\"\r\n      );\r\n    },\r\n    uploadHeadImage() {\r\n      let formData = new FormData();\r\n      if (!this.$refs.photo.files[0]) {\r\n        alert(\"没有选择要上传得头像图片\");\r\n        return;\r\n      }\r\n      let file = this.$refs.photo.files[0];\r\n      if (file.size > 1024 * 1024) {\r\n        alert(\"上传的图片大于1M\");\r\n        return;\r\n      }\r\n      //获取后缀名\r\n      let index = file.name.lastIndexOf(\".\");\r\n      let suffix;\r\n      //没有后缀名，就不管了\r\n      if (index == -1) {\r\n        suffix = \"\";\r\n      } else {\r\n        suffix = file.name.substring(index + 1);\r\n      }\r\n      //文件名 userID + . + 后缀名\r\n      let fileName = this.host.userID + (suffix === \"\" ? \"\" : \".\" + suffix);\r\n      formData.append(fileName, file);\r\n      this.$axios\r\n        .post(\"http://localhost/upload/headImage\", formData)\r\n        .then((res) => {\r\n          //上传失败\r\n          if (res.status !== 200) {\r\n            alert(\"上传头像失败\");\r\n          } else {\r\n            //上传成功\r\n            //再次发送请求，更新数据库信息\r\n            this.$axios\r\n              .get(\"http://localhost:8080/update/headImage\", {\r\n                params: {\r\n                  userID: this.host.userID,\r\n                  headImageAddress: \"image/\" + fileName,\r\n                },\r\n              })\r\n              .then((res) => {\r\n                if (res === false) {\r\n                  alert(\"更新头像失败\");\r\n                } else {\r\n                  //插入数据库成功\r\n                  alert(\"更新头像成功\");\r\n                  //更新host信息\r\n                  this.updateHeadImage(\"image/\" + fileName);\r\n                  //将窗口关闭\r\n                  this.showUpdateList = false;\r\n                  this.showUpdateHeadImage = false;\r\n                  this.showUpdateUserName = false;\r\n                }\r\n              })\r\n              .catch((res) => {\r\n                alert(\"网络错误\" + res.message);\r\n              });\r\n          }\r\n        })\r\n        .catch((res) => {\r\n          alert(\"网络错误\" + res.message);\r\n        });\r\n    },\r\n    uploadUserName() {\r\n      let userName = this.$refs.userName.value.trim();\r\n      if (userName === \"\") {\r\n        alert(\"昵称为空\");\r\n        return;\r\n      }\r\n      this.$axios\r\n        .get(\"http://localhost:8080/update/userName\", {\r\n          params: {\r\n            userID: this.host.userID,\r\n            userName,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (res.data === false) {\r\n            alert(\"更新昵称失败\");\r\n          } else {\r\n            alert(\"更新昵称成功\");\r\n            //更新host信息\r\n            this.updateUserName(userName);\r\n            //关闭所有窗口\r\n            this.showUpdateList = false;\r\n            this.showUpdateHeadImage = false;\r\n            this.showUpdateUserName = false;\r\n          }\r\n        })\r\n        .catch((res) => {\r\n          alert(\"网络错误\" + res.message);\r\n        });\r\n    },\r\n  },\r\n  beforeUpdate() {\r\n    console.log(this.host);\r\n    console.log(\"settingBeforeUpdate\");\r\n  },\r\n  updated() {\r\n    console.log(\"settingUpdated\");\r\n  },\r\n\r\n  deactivated() {\r\n    console.log(\"Settingdeactived\");\r\n  },\r\n  destroyed() {\r\n    console.log(\"SettingDestroy\");\r\n  },\r\n  mounted() {\r\n    console.log(this.host);\r\n    console.log(\"settingmounted\");\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped >\r\nli {\r\n  position: relative;\r\n  margin-bottom: 40px;\r\n}\r\n.noMsg {\r\n  font-style: italic;\r\n  font-weight: 200;\r\n}\r\n.setting {\r\n  float: left;\r\n  margin-left: 100px;\r\n  width: 980px;\r\n  height: 500px;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\n#persion {\r\n  position: relative;\r\n  display: inline-block;\r\n  top: 25px;\r\n  margin-left: 5px;\r\n}\r\n\r\n#persion #name {\r\n  display: inline-block;\r\n  font: 350 26px \"Microsoft Yahei\";\r\n  margin-bottom: 10px;\r\n}\r\n\r\n#persion #userID {\r\n  font-size: 18px;\r\n}\r\n\r\n#head {\r\n  width: 150px;\r\n  height: 150px;\r\n  margin: 5px;\r\n  margin-left: 30px;\r\n  border-radius: 50%;\r\n  vertical-align: middle;\r\n}\r\n\r\n.triangle {\r\n  position: absolute;\r\n  top: 50%;\r\n  right: 30px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-top: 2px solid #cfcfcf;\r\n  border-right: 2px solid #cfcfcf;\r\n  transform: rotate(45deg);\r\n}\r\n\r\n.line {\r\n  width: 0;\r\n  height: 25px;\r\n  border-right: 1px solid #cfcfcf;\r\n}\r\n\r\nul li:nth-child(2) span:nth-child(n + 2),\r\nul li:nth-child(3) span:nth-child(n + 2),\r\nul li:nth-child(4) span:nth-child(n + 2),\r\nul li:nth-child(5) span:nth-child(n + 2) {\r\n  padding: 5%;\r\n}\r\n\r\nul li:nth-child(2) span:nth-child(1),\r\nul li:nth-child(3) span:nth-child(1),\r\nul li:nth-child(4) span:nth-child(1),\r\nul li:nth-child(5) span:nth-child(1) {\r\n  font-family: \"icomoon\";\r\n  margin-left: 30px;\r\n  color: #6e6e6e;\r\n}\r\n.rectangle {\r\n  position: absolute;\r\n  right: 30px;\r\n  top: 8px;\r\n  width: 27px;\r\n  height: 2px;\r\n  background-color: #cfcfcf;\r\n  cursor: pointer;\r\n}\r\n\r\n.rectangle:nth-of-type(2) {\r\n  top: 18px;\r\n}\r\n\r\n.rectangle:nth-of-type(3) {\r\n  top: 28px;\r\n}\r\n\r\n#updateList {\r\n  position: absolute;\r\n  right: 60px;\r\n  top: 25px;\r\n  width: 80px;\r\n  height: 90px;\r\n  border: 1px solid #cfcfcf;\r\n  border-radius: 13px;\r\n  color: #909090;\r\n  text-decoration: underline;\r\n}\r\n\r\n#updateList li {\r\n  text-align: center;\r\n  line-height: 45px;\r\n  margin: 0;\r\n  cursor: pointer;\r\n}\r\n\r\n#updateHeadImage,\r\n#updateUserName {\r\n  z-index: 1;\r\n  position: absolute;\r\n  border: 1px solid #cfcfcf;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  height: 150px;\r\n  width: 200px;\r\n  background-color: #f6f6f6;\r\n  overflow: hidden;\r\n}\r\n\r\n#updateHeadImage {\r\n  height: 150px;\r\n}\r\n\r\n#updateUserName {\r\n  height: 100px;\r\n}\r\n\r\n#updateUserName .upload {\r\n  text-align: center;\r\n}\r\n\r\n.tip {\r\n  height: 30px;\r\n  line-height: 30px;\r\n  text-align: center;\r\n  background-color: #12b7f5;\r\n  color: #fff;\r\n}\r\n\r\n[type=\"file\"] {\r\n  background-color: #fff;\r\n}\r\n\r\n[type=\"button\"] {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n[type=\"text\"] {\r\n  width: 50px;\r\n}\r\n\r\n.close {\r\n  position: absolute;\r\n  right: 3px;\r\n  top: 4px;\r\n  width: 20px;\r\n  height: 20px;\r\n  border-radius: 10px;\r\n  background-color: rgba(207, 207, 207, 0.7);\r\n  overflow: hidden;\r\n  cursor: pointer;\r\n}\r\n\r\n.leftLine {\r\n  position: absolute;\r\n  left: 9px;\r\n  height: 100%;\r\n  width: 2px;\r\n  background-color: #b3b3b3;\r\n  transform: rotate(-45deg);\r\n}\r\n\r\n.rightLine {\r\n  position: absolute;\r\n  left: 9px;\r\n  height: 100%;\r\n  width: 2px;\r\n  background-color: #b3b3b3;\r\n  transform: rotate(45deg);\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Setting.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Setting.vue?vue&type=template&id=2a7065f2&scoped=true&\"\nimport script from \"./Setting.vue?vue&type=script&lang=js&\"\nexport * from \"./Setting.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Setting.vue?vue&type=style&index=0&id=2a7065f2&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a7065f2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit\"},[_c('div',{attrs:{\"id\":\"head\"}},[_c('div',{staticClass:\"triangle\",on:{\"click\":_vm.skipToSetting}}),_vm._v(\" 详细资料 \")]),_c('ul',[_c('li',[_vm._v(\" 性别\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sex),expression:\"sex\"}],attrs:{\"type\":\"text\",\"placeholder\":\"编辑你的性别\"},domProps:{\"value\":(_vm.sex)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.sex=$event.target.value}}})]),_c('hr'),_c('li',[_vm._v(\" 年龄\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.age),expression:\"age\"}],attrs:{\"type\":\"text\",\"placeholder\":\"编辑你的年龄\"},domProps:{\"value\":(_vm.age)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.age=$event.target.value}}})]),_c('hr'),_c('li',[_vm._v(\" 生日\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.birthday),expression:\"birthday\"}],attrs:{\"type\":\"date\",\"placeholder\":\"编辑你的生日\"},domProps:{\"value\":(_vm.birthday)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.birthday=$event.target.value}}})]),_c('hr'),_c('li',[_vm._v(\" 用户地址\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.location),expression:\"location\"}],attrs:{\"type\":\"text\",\"placeholder\":\"编辑你的地址\"},domProps:{\"value\":(_vm.location)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.location=$event.target.value}}})]),_c('hr'),_c('li',[_vm._v(\" 个性签名\"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.persionalSign),expression:\"persionalSign\"}],attrs:{\"type\":\"text\",\"placeholder\":\"编辑你的个性签名\"},domProps:{\"value\":(_vm.persionalSign)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.persionalSign=$event.target.value}}})])]),_c('button',{attrs:{\"id\":\"editBtn\",\"type\":\"button\"},on:{\"click\":_vm.modifyDetail}},[_vm._v(\"修改资料\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"edit\">\r\n    <div id=\"head\">\r\n      <div @click=\"skipToSetting\" class=\"triangle\"></div>\r\n      详细资料\r\n    </div>\r\n    <ul>\r\n      <li>\r\n        性别<input v-model=\"sex\" type=\"text\" placeholder=\"编辑你的性别\" />\r\n      </li>\r\n      <hr />\r\n      <li>\r\n        年龄<input v-model=\"age\" type=\"text\" placeholder=\"编辑你的年龄\" />\r\n      </li>\r\n      <hr />\r\n      <li>\r\n        生日<input v-model=\"birthday\" type=\"date\" placeholder=\"编辑你的生日\" />\r\n      </li>\r\n      <hr />\r\n      <li>\r\n        用户地址<input\r\n          v-model=\"location\"\r\n          type=\"text\"\r\n          placeholder=\"编辑你的地址\"\r\n        />\r\n      </li>\r\n      <hr />\r\n      <li>\r\n        个性签名<input\r\n          v-model=\"persionalSign\"\r\n          type=\"text\"\r\n          placeholder=\"编辑你的个性签名\"\r\n        />\r\n      </li>\r\n    </ul>\r\n    <button @click=\"modifyDetail\" id=\"editBtn\" type=\"button\">修改资料</button>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Edit\",\r\n  data() {\r\n    //初始化时，与host.detail一致\r\n    //当字段没有数据，即null的时候，表单显示默认提示信息\r\n    return {\r\n      sex: \"\",\r\n      age: \"\",\r\n      birthday: \"\",\r\n      location: \"\",\r\n      persionalSign: \"\",\r\n    };\r\n  },\r\n  updated() {\r\n    console.log(this.birthday);\r\n  },\r\n  computed: {\r\n    //添加用户详情信息\r\n    ...mapState(\"group\", [\"host\"]),\r\n  },\r\n  methods: {\r\n    ...mapMutations(\"group\", [\"updateDetail\"]),\r\n    //点击<跳转到setting页面\r\n    skipToSetting() {\r\n      this.$router.replace({\r\n        name: \"setting\",\r\n      });\r\n    },\r\n    modifyDetail() {\r\n      // 先判断用户是否更改了信息，再决定是否发送ajax请求\r\n      // 只要有一个不等就是不等\r\n      if (\r\n        this.sex !== this.host.detail.sex ||\r\n        this.age !== this.host.detail.age ||\r\n        //birthday手机到的数据格式是 20xx-xx-xx,而后台传回的数据是时间戳，需要先将其转化\r\n        (this.birthday &&\r\n          new Date(this.birthday).getTime() !== this.host.detail.birthday) ||\r\n        this.location !== this.host.detail.location ||\r\n        this.persionalSign !== this.host.detail.persionalSign\r\n      ) {\r\n        //再判断上传到数据库的数据大小是否越界\r\n        if (this.sex.length > 1 || (this.sex !== \"男\" && this.sex !== \"女\")) {\r\n          alert(\"性别只能为男或女\");\r\n        } else if (\r\n          this.age.length > 3 ||\r\n          this.age.filters((ch) => !(ch >= \"0\" && ch <= \"9\")).length !== 0\r\n        ) {\r\n          alert(\"年龄只能是0~999\");\r\n        } else if (this.location.length > 100) {\r\n          alert(\"居住地址的长度不能超过100\");\r\n        } else if (this.persionalSign.length > 100) {\r\n          alert(\"个性签名的长度不能超过100\");\r\n        } else {\r\n          this.$axios\r\n            .get(\"http://localhost:8080/detail/put\", {\r\n              params: {\r\n                //记住不要将userID忘记\r\n                userID: this.host.userID,\r\n                sex: this.sex,\r\n                age: this.age,\r\n                birthday: new Date(this.birthday).getTime(),\r\n                location: this.location,\r\n                persionalSign: this.persionalSign,\r\n              },\r\n            })\r\n            .then((res) => {\r\n              //更新详情失败\r\n              if (res.data !== true) {\r\n                alert(\"更新失败\\n\" + res.message);\r\n              } else {\r\n                alert(\"更新成功\");\r\n                console.log(\"前\");\r\n                //更新成功后，更改host.detail里的数据\r\n                this.updateDetail({\r\n                  sex: this.sex,\r\n                  age: this.age,\r\n                  birthday: this.birthday\r\n                    ? new Date(this.birthday).getTime()\r\n                    : null,\r\n                  location: this.location,\r\n                  persionalSign: this.persionalSign,\r\n                });\r\n                console.log(\"后\");\r\n              }\r\n            })\r\n            .catch((res) => {\r\n              alert(\"网络错误\\n\" + res.message);\r\n            });\r\n        }\r\n      } else {\r\n        alert(\"你没有更改任何信息\");\r\n      }\r\n    },\r\n  },\r\n  //不能在data()中初始化数据，组件只是创建一次\r\n  activated() {\r\n    console.log(\"settingactived\");\r\n    let date = new Date(this.host.detail.birthday);\r\n    this.sex = this.host.detail.sex;\r\n    this.age = this.host.detail.age;\r\n    this.birthday =\r\n      date.getFullYear() +\r\n      \"-\" +\r\n      (date.getMonth() + 1 <= 9\r\n        ? \"0\" + (date.getMonth() + 1)\r\n        : date.getMonth() + 1) +\r\n      \"-\" +\r\n      (date.getDay() + 1 <= 9 ? \"0\" + (date.getDay() + 1) : date.getDay() + 1);\r\n    this.location = this.host.detail.location;\r\n    this.persionalSign = this.host.detail.persionalSign;\r\n  },\r\n  beforeUpdate() {\r\n    console.log(\"editBeforeUpdate\");\r\n  },\r\n  updated() {\r\n    console.log(\"editUpdated\");\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nhr {\r\n  border: 0;\r\n  border-bottom: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\ninput {\r\n  margin-left: 50px;\r\n  border: 0;\r\n  outline: none;\r\n  font-size: 16px;\r\n  color: #cfcfcf;\r\n}\r\n\r\n.edit {\r\n  position: relative;\r\n  float: left;\r\n  margin-left: 100px;\r\n  width: 980px;\r\n  height: 500px;\r\n  background-color: #fff;\r\n  overflow: hidden;\r\n}\r\n\r\nul li {\r\n  margin: 24px 5px;\r\n}\r\n\r\n.triangle {\r\n  position: absolute;\r\n  top: 13px;\r\n  left: 13px;\r\n  right: 30px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-top: 2px solid #fff;\r\n  border-right: 2px solid #cfff;\r\n  transform: rotate(-135deg);\r\n}\r\n\r\n#editBtn,\r\n#head {\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  border: 1px solid #cdcfd0;\r\n  color: white;\r\n  background-color: #12b7f5;\r\n  line-height: 40px;\r\n  text-align: center;\r\n  font-size: 20px;\r\n}\r\n\r\n#editBtn {\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 300px;\r\n  height: 40px;\r\n  cursor: pointer;\r\n}\r\n\r\n#head {\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Edit.vue?vue&type=template&id=588e0d76&scoped=true&\"\nimport script from \"./Edit.vue?vue&type=script&lang=js&\"\nexport * from \"./Edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Edit.vue?vue&type=style&index=0&id=588e0d76&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"588e0d76\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport Login from '../components/nav/Login'\r\nimport Group from '../components/nav/Group'\r\nimport Block from '../components/nav/Block'\r\nimport Native from '../components/Native'\r\nimport Setting from '../components/nav/Setting'\r\nimport Edit from \"../components/nav/Edit\"\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n\r\n    routes: [\r\n        {\r\n            name: 'login',\r\n            path: '/login',\r\n            component: Login\r\n        },\r\n        {\r\n            name: 'native',\r\n            path: '/native',\r\n            component: Native,\r\n            props($route) {\r\n                return {\r\n                    //跳入交流页面\r\n                    groupID: $route.query.groupID,\r\n                    leaderID: $route.query.leaderID,\r\n                    groupName: $route.query.groupName,\r\n                    headImageAddress: $route.query.headImageAddress\r\n                }\r\n            },\r\n            //防止无用户状态登录\r\n            beforeEnter: (to, from, next) => {\r\n                if (!localStorage.getItem(\"login\") || localStorage.getItem(\"login\") !== \"true\") {\r\n                    alert(\"请先登录\")\r\n                    return\r\n                }\r\n                next();\r\n            }\r\n        },\r\n        {\r\n            name: 'group',\r\n            path: '/group',\r\n            component: Group,\r\n            children: [{\r\n                name: 'block',\r\n                path: 'block',\r\n                component: Block\r\n            },\r\n            {\r\n                name: 'setting',\r\n                path: 'setting',\r\n                component: Setting\r\n            },\r\n            {\r\n                name: 'edit',\r\n                path: 'edit',\r\n                component: Edit\r\n            }],\r\n            //防止无用户状态登录\r\n            beforeEnter: (to, from, next) => {\r\n                if (!localStorage.getItem(\"login\") || localStorage.getItem(\"login\") !== \"true\") {\r\n                    alert(\"请先登录\")\r\n                    return\r\n                }\r\n                next();\r\n            }\r\n\r\n        }\r\n    ]\r\n})\r\n\r\nexport default router","import Vue from 'vue'\nimport App from './App.vue'\nimport store from './store/index'\nVue.config.productionTip = false\n\nimport axios from 'axios'\nimport router from './router/index'\n//允许axios在发送数据时携带cookie\naxios.defaults.withCredentials = true\nexport default new Vue({\n  el: '#app',\n  store,\n  render: h => h(App),\n  router,\n  beforeCreate() {\n    Vue.prototype.$bus = this\n    Vue.prototype.$axios = axios\n  }\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Nav.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserChooseBox.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=style&index=0&id=65183a18&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=615c656e&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Group.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicChatBox.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Edit.vue?vue&type=style&index=0&id=588e0d76&scoped=true&lang=css&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Block.vue?vue&type=style&index=0&id=36376cfb&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBox.vue?vue&type=style&index=0&id=12561b9f&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Body.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}